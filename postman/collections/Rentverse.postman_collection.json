{
  "info": {
    "_postman_id": "927b0c92-cc9a-442f-b011-0b03f56859d3",
    "name": "Rentverse",
    "description": "### 1\\. Booking Status\n\n**Entity:** `Booking`  \n**Used In:** \"My Bookings\" List, Booking Detail Screen.\n\n| Status | Meaning | UI Suggestion |\n| --- | --- | --- |\n| `PENDING_PAYMENT` | User clicked \"Book\" but hasn't paid yet. | üü† Orange / Badge |\n| `ACTIVE` | Payment successful. Property is reserved. | üü¢ Green / Badge |\n| `COMPLETED` | The rental period has ended. | üîò Grey / Text |\n| `CANCELLED` | Booking cancelled by user or timeout. | üî¥ Red / Text |\n\n---\n\n### 2\\. Payment/Invoice Status\n\n**Entity:** `Invoice`  \n**Used In:** \"Payment History\", \"Booking Detail\" (Payment Section).\n\n| Status | Meaning | UI Suggestion |\n| --- | --- | --- |\n| `PENDING` | Waiting for payment. | üü† Orange |\n| `PAID` | Successfully paid via Midtrans. | üü¢ Green |\n| `OVERDUE` | Payment deadline passed (Auto-cancel). | üî¥ Red |\n| `CANCELLED` | Invoice voided. | üîò Grey |\n\n---\n\n### 3\\. KYC Status (Identity Verification)\n\n**Entity:** `TenantTrustProfile`, `LandlordTrustProfile`  \n**Used In:** Profile Page, Trust Dashboard.\n\n| Status | Meaning | UI Suggestion |\n| --- | --- | --- |\n| `PENDING` | Default state. User hasn't uploaded ID. | üîò Grey / \"Unverified\" |\n| `SUBMITTED` | User uploaded ID. Waiting for Admin. | üîµ Blue / \"Under Review\" |\n| `VERIFIED` | Admin approved the ID. | üü¢ Green / Checkmark Icon |\n| `REJECTED` | Admin rejected (e.g., blurry photo). | üî¥ Red / \"Action Required\" |\n\n---\n\n### 4\\. Payout Status (Withdrawals)\n\n**Entity:** `PayoutRequest`  \n**Used In:** \"My Wallet\" (Landlord View).\n\n| Status | Meaning | UI Suggestion |\n| --- | --- | --- |\n| `PENDING` | Request sent. Funds locked. | üü† Orange |\n| `APPROVED` | Admin approved. Processing transfer. | üîµ Blue |\n| `PROCESSED` | Money sent to bank. | üü¢ Green |\n| `REJECTED` | Request denied. Funds returned to wallet. | üî¥ Red |\n\n---\n\n### 5\\. Wallet Transaction Types\n\n**Entity:** `WalletTransaction`  \n**Used In:** Wallet History List.\n\n**Types (Direction):**\n\n- `CREDIT` (Money In) - üü¢ Green Text (`+ Rp 1.000.000`)\n    \n- `DEBIT` (Money Out) - üî¥ Red Text (`- Rp 500.000`)\n    \n\n**Categories (Reason):**\n\n- `RENT_INCOME` - Income from a booking.\n    \n- `PAYOUT_REQUEST` - Withdrawal to bank.\n    \n- `PLATFORM_FEE` - Rentverse commission deduction.\n    \n- `REFUND` - Returned money.\n    \n\n---\n\n### 6\\. Trust Event Types\n\n**Entity:** `TrustLog`  \n**Used In:** Trust Score History Graph.\n\n| Source Type | Meaning |\n| --- | --- |\n| `AUTOMATED` | Triggered by system (e.g., Paid on time). |\n| `MANUAL` | Added by Admin override. |\n| `AI_SUGGESTED` | (Future) Added by AI audit. |\n\n---\n\n### 7\\. User Roles\n\n**Entity:** `User` -> `Role`  \n**Used In:** Login, Profile Badge.\n\n- `TENANT`\n    \n- `LANDLORD`\n    \n- `ADMIN`",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "id": "0fa940a1-4d18-41da-83b5-626ed79d641f",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"ilham11@rentverse.com\",\n  \"password\": \"password123\",\n  \"name\": \"ilham\",\n  \"phone\": \"082317506135\",\n  \"role\": \"TENANT\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "register"
              ]
            },
            "description": "### üìÑ Endpoint: User Registration\n\n**Description:**  \nThis endpoint creates a new user account. Users must choose a role (`TENANT` or `LANDLORD`).  \n**Note:** Registration does **not** return an access token. The user must call the `/auth/login` endpoint immediately after registration to authenticate.\n\n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/auth/register`\n    \n- **Authentication:** None (Public Endpoint)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"email\": \"tenant@example.com\",\n  \"password\": \"securePassword123!\",\n  \"name\": \"Jane Doe\",\n  \"phone\": \"081234567890\",\n  \"role\": \"TENANT\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `email` | String | **Mandatory** | Valid email address. Must be unique. |\n| `password` | String | **Mandatory** | Min 8 characters. |\n| `name` | String | **Mandatory** | Min 3 characters. |\n| `role` | Enum | **Mandatory** | Must be either `\"TENANT\"` or `\"LANDLORD\"`. |\n| `phone` | String | **Optional** | Min 10 characters. Must be unique if provided. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (201 Created)**  \n_User created successfully. Returns the user profile (without tokens)._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"User registered successfully\",\n    \"data\": {\n        \"id\": \"user-uuid-67890\",\n        \"email\": \"tenant@example.com\",\n        \"name\": \"Jane Doe\",\n        \"role\": \"TENANT\",\n        \"createdAt\": \"2025-12-07T10:00:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: Password too short or invalid role._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: password: Password must be at least 8 characters long\"\n}\n\n ```\n\n**3\\. Error: Email/Phone Already Exists (409 Conflict)**  \n_Scenario: Trying to register with an email that is already in use._\n\n``` json\n{\n    \"status\": \"error\",\n    \"message\": \"Email is already registered\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/auth/register' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"email\": \"landlord@rentverse.com\",\n    \"password\": \"mySecretPassword\",\n    \"name\": \"Mr. Landlord\",\n    \"role\": \"LANDLORD\",\n    \"phone\": \"08987654321\"\n}'\n\n ```\n\n---\n\n### üì± Client Implementation Note (Mobile Team)\n\n1. **Flow:**\n    - User fills out the Sign Up form.\n        \n    - App calls `POST /auth/register`.\n        \n    - **If Success:** Automatically navigate the user to the **Login Screen** (or auto-fill the login form).\n        \n    - **Auto-Login:** If you want a seamless experience, you can immediately call `POST /auth/login` in the background using the same credentials after a successful register response.\n        \n2. **Validation:**\n    - Ensure the `role` dropdown only allows \"TENANT\" or \"LANDLORD\".\n        \n    - Pre-validate the email format and password length on the client side for better UX."
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "72eac812-4362-4c1e-bb56-55195f14cb60",
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.status === 'success') {",
                  "    pm.collectionVariables.set(\"access_token\", jsonData.data.accessToken);",
                  "    pm.collectionVariables.set(\"refresh_token\", jsonData.data.refreshToken);",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9e4ca795-cce1-4c99-80d5-20fcf01563b3",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "78fd1929-4130-43e4-b475-e8577849a522",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@rentverse.com\",\n    \"password\": \"admin123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            },
            "description": "# Rentverse API Reference: Auth Module\n\n**Version:** 1.0  \n**Base URL:** `http://localhost:3000/api/v1`\n\n## Login User\n\nAuthenticates a user using their registered email and password. Upon successful authentication, the system issues a **JWT Access Token** which must be included in the header of subsequent requests to access protected resources (such as creating properties or updating profiles).\n\n- **Endpoint:** `/auth/login`\n    \n- **Method:** `POST`\n    \n- **Access:** Public (No Authentication Required)\n    \n\n### Request Body\n\n**Content-Type:** `application/json`\n\n| Parameter | Type | Required | Constraints | Description |\n| --- | --- | --- | --- | --- |\n| `email` | `string` | **Yes** | Valid Email | The email address registered with the account. |\n| `password` | `string` | **Yes** | \\- | The user's password. |\n\n### Example Request\n\n``` json\n{\n  \"email\": \"landlord@rentverse.com\",\n  \"password\": \"securePass123!\"\n}\n\n ```\n\n### Success Response (200 OK)\n\nReturns the generated JWT `accessToken` along with the user's basic profile information. The token is typically valid for 1 day.\n\n``` json\n{\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": {\n      \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n      \"name\": \"Budi Santoso\",\n      \"email\": \"landlord@rentverse.com\",\n      \"role\": \"LANDLORD\"\n    }\n  }\n}\n\n ```\n\n### Error Responses\n\n**400 Bad Request**  \nThe input format was incorrect (e.g., missing fields or an invalid email format).\n\n``` json\n{\n  \"status\": \"fail\",\n  \"message\": \"Validation Error: email: Invalid email\"\n}\n\n ```\n\n**401 Unauthorized**  \nThe credentials provided (email or password) do not match any active account in the system.\n\n``` json\n{\n  \"status\": \"fail\",\n  \"message\": \"Invalid email or password\"\n}\n\n ```\n\n**500 Internal Server Error**  \nAn unexpected server error occurred.\n\n``` json\n{\n  \"status\": \"error\",\n  \"message\": \"Internal Server Error\"\n}\n\n ```"
          },
          "response": []
        },
        {
          "name": "Refresh Access Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "311438ac-738a-4899-8085-d3a447b8143c",
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.status === 'success') {",
                  "    pm.collectionVariables.set(\"access_token\", jsonData.data.accessToken);",
                  "    pm.collectionVariables.set(\"refresh_token\", jsonData.data.refreshToken);",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "24f953f1-86a7-4bb8-88fe-4ce294f20088",
                "exec": [],
                "type": "text/javascript"
              }
            }
          ],
          "id": "afe81cff-4a04-45a1-8177-9a7b613c6b50",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/refresh",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "refresh"
              ]
            },
            "description": "### üìÑ Endpoint: Refresh Token\n\n**Description:**  \nThis endpoint allows a client to exchange a valid (but potentially expiring) `refreshToken` for a completely new pair of tokens (`accessToken` + `refreshToken`).  \n**Note:** This system uses **Refresh Token Rotation**. The old refresh token is **invalidated immediately** after use. You must replace the old token in your secure storage with the new one returned by this API.\n\n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/auth/refresh`\n    \n- **Authentication:** None (Public Endpoint)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"refreshToken\": \"7f8a9b1c2d3e4f5g6h7i8j9k0l...\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `refreshToken` | String | **Mandatory** | The opaque, long-lived token received during Login or the last Refresh. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns a fresh Access Token (15m) and a new Refresh Token (30d). Update your storage immediately._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Token refreshed successfully\",\n    \"data\": {\n        \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n        \"refreshToken\": \"a1b2c3d4e5f6g7h8i9j0k1l2m...\"\n    }\n}\n\n ```\n\n**2\\. Error: Missing Token (400 Bad Request)**  \n_Scenario: Request body is empty or missing the field._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: refreshToken: Refresh token is required\"\n}\n\n ```\n\n**3\\. Error: Invalid/Expired/Reused Token (401 Unauthorized)**  \n_Scenario: Token does not exist in Redis, has expired, or has already been used (Reuse Detection)._\n\n``` json\n{\n    \"status\": \"error\",\n    \"message\": \"Invalid or expired refresh token\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/auth/refresh' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"refreshToken\": \"YOUR_REFRESH_TOKEN_HERE\"\n}'\n\n ```\n\n---\n\n### üì± Client Implementation Note (Mobile Team)\n\n1. **Rotation Logic:**\n    - When you call this endpoint, you **MUST** overwrite the old `refreshToken` in your Keychain/Keystore with the new one from the response.\n        \n    - The old one is dead. If you try to use it again, you will get `401`.\n        \n2. **Concurrency:**\n    - If your app makes 5 parallel API calls and they all fail with `401 (Access Token Expired)`, ensure you use a **Mutex/Lock** mechanism to call `/refresh` **only once**.\n        \n    - If you call `/refresh` 5 times in parallel, the first one will succeed, but it will invalidate the token, causing the other 4 to fail (Race Condition)."
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "id": "75f101ae-325a-4969-8cac-f5a6666fbc5e",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "avatarUrl",
                  "type": "file",
                  "src": "/home/dean/Pictures/pp.png"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/auth/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "profile"
              ]
            },
            "description": "### üìÑ Endpoint: Update Profile\n\n**Description:**\nThis endpoint allows a logged-in user (Tenant or Landlord) to update their personal information. All fields are optional, but if provided, they must meet the validation criteria.\n\n  * **Method:** `PUT`\n  * **URL:** `{{base_url}}/auth/profile`\n  * **Authentication:** `Bearer <access_token>`\n\n-----\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| :--- | :--- | :--- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The JWT access token obtained from login. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n```json\n{\n  \"name\": \"Jane Smith\",\n  \"phone\": \"081299998888\"\n}\n```\n\n| Key | Type | Requirement | Description |\n| :--- | :--- | :--- | :--- |\n| `name` | String | **Optional** | The new display name (Min 3 characters). |\n| `phone` | String | **Optional** | The new phone number (Min 10 digits). Must be unique in the system. |\n\n-----\n\n#### ‚úÖ Response Examples\n\n**1. Success (200 OK)**\n*Profile updated successfully. Returns the updated user object.*\n\n```json\n{\n    \"status\": \"success\",\n    \"message\": \"Profile updated successfully\",\n    \"data\": {\n        \"id\": \"user-uuid-12345\",\n        \"email\": \"jane@example.com\",\n        \"name\": \"Jane Smith\",\n        \"phone\": \"081299998888\",\n        \"role\": \"TENANT\",\n        \"isVerified\": true,\n        \"createdAt\": \"2025-01-01T00:00:00.000Z\",\n        \"updatedAt\": \"2025-12-07T10:30:00.000Z\"\n    }\n}\n```\n\n**2. Error: Validation Failure (400 Bad Request)**\n*Scenario: Name is too short.*\n\n```json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: name: Name must be at least 3 characters\"\n}\n```\n\n**3. Error: Phone Number Conflict (409 Conflict)**\n*Scenario: The provided phone number is already used by another user.*\n\n```json\n{\n    \"status\": \"fail\",\n    \"message\": \"Phone number already in use\"\n}\n```\n\n**4. Error: Unauthorized (401 Unauthorized)**\n*Scenario: Token is missing or expired.*\n\n```json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n```\n\n-----\n\n#### üíª cURL Example\n\n```bash\ncurl --location --request PUT 'http://localhost:3000/api/v1/auth/profile' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer <YOUR_ACCESS_TOKEN>' \\\n--data '{\n    \"name\": \"New Name\",\n    \"phone\": \"08123456789\"\n}'\n```"
          },
          "response": []
        },
        {
          "name": "Me",
          "id": "1625a4f1-2171-4c08-85c0-8314bfd4ef26",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/auth/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "me"
              ]
            },
            "description": "# Rentverse API Reference: Auth Module\n\n**Version:** 1.0  \n**Base URL:** `http://localhost:3000/api/v1`\n\n## Get Current User Profile\n\nRetrieves the detailed profile of the currently authenticated user. This includes their basic account information, assigned roles, and associated trust profiles (Tenant or Landlord).\n\n- **Endpoint:** `/auth/me`\n    \n- **Method:** `GET`\n    \n- **Access:** Protected (Requires valid JWT Access Token)\n    \n\n### Request Headers\n\n| Header | Value | Required | Description |\n| --- | --- | --- | --- |\n| `Authorization` | `Bearer` | **Yes** | The access token received from the Login endpoint. |\n\n### Request Body\n\nNone.\n\n### Example Request\n\n``` http\nGET /api/v1/auth/me HTTP/1.1\nHost: localhost:3000\nAuthorization: Bearer eyJhbGciOiJIUzI1Ni...\n\n ```\n\n### Success Response (200 OK)\n\nReturns the full user object, including relational data for roles and trust profiles.\n\n``` json\n{\n  \"status\": \"success\",\n  \"message\": \"User profile retrieved successfully\",\n  \"data\": {\n    \"id\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"email\": \"landlord@rentverse.com\",\n    \"name\": \"Budi Santoso\",\n    \"phone\": \"081234567890\",\n    \"avatarUrl\": null,\n    \"isVerified\": false,\n    \"createdAt\": \"2025-12-04T10:00:00.000Z\",\n    \"updatedAt\": \"2025-12-04T10:00:00.000Z\",\n    \"roles\": [\n      {\n        \"roleId\": \"role-uuid-admin\",\n        \"userId\": \"123e4567-e89b-12d3-a456-426614174000\",\n        \"role\": {\n          \"id\": \"role-uuid-admin\",\n          \"name\": \"LANDLORD\",\n          \"description\": null\n        }\n      }\n    ],\n    \"landlordProfile\": {\n      \"id\": \"profile-uuid-1\",\n      \"userRefId\": \"123e4567-e89b-12d3-a456-426614174000\",\n      \"lrs_score\": 50,\n      \"response_rate\": 0,\n      \"kyc_status\": \"PENDING\",\n      \"ktpUrl\": null,\n      \"ktpVerifiedAt\": null\n    },\n    \"tenantProfile\": null\n  }\n}\n\n ```\n\n### Error Responses\n\n**401 Unauthorized**  \nThe request failed because the user is not authenticated (missing or invalid token).\n\n``` json\n{\n  \"status\": \"fail\",\n  \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n**404 Not Found**  \nThe user account associated with the token no longer exists in the database.\n\n``` json\n{\n  \"status\": \"fail\",\n  \"message\": \"User not found\"\n}\n\n ```\n\n**500 Internal Server Error**  \nAn unexpected server error occurred.\n\n``` json\n{\n  \"status\": \"error\",\n  \"message\": \"Internal Server Error\"\n}\n\n ```"
          },
          "response": []
        },
        {
          "name": "Send OTP",
          "id": "3eac0f46-cf09-438f-8dea-04d90ebafef0",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"target\": \"ilham11@rentverse.com\",\n  \"channel\": \"EMAIL\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/otp/send",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "otp",
                "send"
              ]
            },
            "description": "### üì§ Endpoint: Send OTP\n\n**Description:**  \nTriggers a 6-digit One-Time Password to be sent to the specified target.\n\n- **Email:** Sends via local Mailpit SMTP (view at `http://localhost:8025`).\n    \n- **WhatsApp:** Sends via WAHA container (requires connected WhatsApp account).\n    \n- **Expiration:** Code expires in 5 minutes (Redis TTL).\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/auth/otp/send`\n    \n- **Authentication:** Public (No token required)\n    \n\n---\n\n#### üì® Request Body\n\n**Content-Type:** `application/json`\n\n``` json\n{\n  \"target\": \"08123456789\",\n  \"channel\": \"WHATSAPP\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `target` | String | **Required** | The Email address or Phone number (e.g., `user@example.com` or `08123456789`). |\n| `channel` | Enum | **Required** | Must be either `EMAIL` or `WHATSAPP`. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_OTP was generated and sent successfully._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"OTP sent successfully\",\n    \"data\": {\n        \"message\": \"OTP sent to 08123456789 via WHATSAPP\"\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario: Invalid channel or missing target._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: channel: Channel must be EMAIL or WHATSAPP\"\n}\n\n ```\n\n**3\\. Error: Service Failure (500 Internal Server Error)**  \n_Scenario: WhatsApp container is down or SMTP connection failed._\n\n``` json\n{\n    \"status\": \"error\",\n    \"message\": \"Failed to send WhatsApp message\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n**WhatsApp:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/auth/otp/send' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"target\": \"08123456789\",\n    \"channel\": \"WHATSAPP\"\n}'\n\n ```\n\n**Email:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/auth/otp/send' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"target\": \"tenant@rentverse.com\",\n    \"channel\": \"EMAIL\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Verify OTP",
          "id": "4d57d5fd-5e63-4747-a4d4-3100c670c883",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"target\": \"ilham11@rentverse.com\",\n  \"channel\": \"EMAIL\",\n  \"code\": \"141217\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/otp/verify",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "auth",
                "otp",
                "verify"
              ]
            },
            "description": "### ‚úÖ Endpoint: Verify OTP\n\n**Description:**  \nValidates the 6-digit code provided by the user.\n\n- **Verification:** Checks Redis for a matching code associated with the target/channel.\n    \n- **Auto-Update:** If the code is valid and the user exists in the database, it automatically updates their verification status (`isVerified`, `phoneVerifiedAt`, or `emailVerifiedAt`).\n    \n- **Security:** Deletes the OTP from Redis immediately upon successful verification to prevent reuse.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/auth/otp/verify`\n    \n- **Authentication:** Public (No token required)\n    \n\n---\n\n#### üì® Request Body\n\n**Content-Type:** `application/json`\n\n``` json\n{\n  \"target\": \"08123456789\",\n  \"channel\": \"WHATSAPP\",\n  \"code\": \"123456\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `target` | String | **Required** | Must match the email or phone used in the Send request. |\n| `channel` | Enum | **Required** | Must be either `EMAIL` or `WHATSAPP`. |\n| `code` | String | **Required** | The 6-digit numeric code received. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - User Verified (200 OK)**  \n_Code valid, user found in DB, and status updated._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Verification successful\",\n    \"data\": {\n        \"message\": \"User verified successfully\",\n        \"isUserUpdated\": true\n    }\n}\n\n ```\n\n**2\\. Success - Code Valid (200 OK)**  \n_Code valid, but no registered user found (e.g., during registration flow)._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Verification successful\",\n    \"data\": {\n        \"message\": \"OTP verified successfully\",\n        \"isUserUpdated\": false\n    }\n}\n\n ```\n\n**3\\. Error: Invalid or Expired (400 Bad Request)**  \n_Scenario: Code does not match or has expired (ttl > 5 mins)._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Invalid or expired OTP\"\n}\n\n ```\n\n**4\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario: Code is not 6 digits._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: code: OTP must be 6 digits\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/auth/otp/verify' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"target\": \"08123456789\",\n    \"channel\": \"WHATSAPP\",\n    \"code\": \"591283\"\n}'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "b89af542-eba0-4bd7-bc90-066e9c4904cc"
    },
    {
      "name": "Rental",
      "item": [
        {
          "name": "Get All Rental References",
          "id": "e405a7d8-c0e5-4f6a-83b7-b50385256e03",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/rental/references",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "rental",
                "references"
              ]
            },
            "description": "# Rentverse API Reference: Rental Module\n\n**Version:** 1.0  \n**Base URL:** `http://localhost:3000/api/v1`\n\n## Get Rental References\n\nFetches the complete set of master data required to populate \"Create Listing\" forms and search filters. This includes static lists for property types, listing types, billing periods, and dynamic EAV (Entity-Attribute-Value) attribute definitions.\n\n- **Endpoint:** `/rental/references`\n    \n- **Method:** `GET`\n    \n- **Access:** Public (No Authentication Required)\n    \n\n### Request Headers\n\nNone.\n\n### Request Body\n\nNone.\n\n### Example Request\n\n``` http\nGET /api/v1/rental/references HTTP/1.1\nHost: localhost:3000\n\n ```\n\n### Success Response (200 OK)\n\nReturns categorized lists of reference data.\n\n``` json\n{\n  \"status\": \"success\",\n  \"message\": \"Reference data retrieved successfully\",\n  \"data\": {\n    \"propertyTypes\": [\n      {\n        \"id\": 1,\n        \"slug\": \"apartment\",\n        \"label\": \"Apartment\"\n      },\n      {\n        \"id\": 2,\n        \"slug\": \"house\",\n        \"label\": \"House\"\n      },\n      {\n        \"id\": 6,\n        \"slug\": \"room\",\n        \"label\": \"Room (Kost)\"\n      }\n    ],\n    \"listingTypes\": [\n      {\n        \"id\": 1,\n        \"slug\": \"rent\",\n        \"label\": \"For Rent\"\n      },\n      {\n        \"id\": 2,\n        \"slug\": \"sale\",\n        \"label\": \"For Sale\"\n      }\n    ],\n    \"billingPeriods\": [\n      {\n        \"id\": 1,\n        \"slug\": \"monthly\",\n        \"label\": \"Monthly\",\n        \"durationMonths\": 1\n      },\n      {\n        \"id\": 4,\n        \"slug\": \"yearly\",\n        \"label\": \"Yearly\",\n        \"durationMonths\": 12\n      }\n    ],\n    \"attributes\": [\n      {\n        \"id\": 1,\n        \"slug\": \"bedroom\",\n        \"label\": \"Bedroom\",\n        \"dataType\": \"NUMBER\",\n        \"iconUrl\": \"bed\"\n      },\n      {\n        \"id\": 5,\n        \"slug\": \"furnishing\",\n        \"label\": \"Furnishing\",\n        \"dataType\": \"STRING\",\n        \"iconUrl\": \"sofa\"\n      },\n      {\n        \"id\": 7,\n        \"slug\": \"electricity\",\n        \"label\": \"Electricity (VA)\",\n        \"dataType\": \"NUMBER\",\n        \"iconUrl\": \"zap\"\n      }\n    ]\n  }\n}\n\n ```\n\n_Note: The actual IDs and values are determined by the database seeding process._\n\n### Error Responses\n\n**500 Internal Server Error**  \nAn unexpected server error occurred (e.g., Database connection failure).\n\n``` json\n{\n  \"status\": \"error\",\n  \"message\": \"Internal Server Error\"\n}\n\n ```"
          },
          "response": []
        }
      ],
      "id": "11a62090-6b5f-42ae-9bab-98347c7b79eb"
    },
    {
      "name": "Property",
      "item": [
        {
          "name": "Create Property",
          "id": "522b61c4-f11e-4d6c-aad8-acdd2982a748",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "images",
                  "type": "file",
                  "src": "/home/dean/Pictures/server.png"
                },
                {
                  "key": "title",
                  "value": "Modern Apartment in CBD",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "A beautiful unit...sdfsdfsdfsdfsdfsdfsdfsdfsd",
                  "type": "text"
                },
                {
                  "key": "propertyTypeId",
                  "value": "1",
                  "type": "text"
                },
                {
                  "key": "listingTypeId",
                  "value": "1",
                  "type": "text"
                },
                {
                  "key": "price",
                  "value": "15000000",
                  "type": "text"
                },
                {
                  "key": "currency",
                  "value": "IDR",
                  "type": "text"
                },
                {
                  "key": "address",
                  "value": "Jl. Jend. Sudirman No. 1",
                  "type": "text"
                },
                {
                  "key": "city",
                  "value": "Jakarta",
                  "type": "text"
                },
                {
                  "key": "country",
                  "value": "Indonesia",
                  "type": "text"
                },
                {
                  "key": "latitude",
                  "value": "-8.409518",
                  "type": "text"
                },
                {
                  "key": "longitude",
                  "value": "115.188919",
                  "type": "text"
                },
                {
                  "key": "billingPeriodIds",
                  "value": "[1]",
                  "type": "text"
                },
                {
                  "key": "attributes",
                  "value": "[{\"attributeTypeId\": 1, \"value\": \"2\"}, {\"attributeTypeId\": 5, \"value\": \"Full\"}]",
                  "type": "text"
                },
                {
                  "key": "amenities",
                  "value": "[\"WIFI\", \"POOL\", \"AC\"]",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/properties",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "properties"
              ]
            },
            "description": "### üìÑ Endpoint: Create Property Listing\n\n**Description:**  \nThis endpoint allows a **Verified Landlord** to create a new property listing with images. Since this request involves file uploads, it uses `multipart/form-data`. Complex fields like arrays or objects must be sent as **JSON strings**.\n\n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/properties`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Token must belong to a user with role `LANDLORD`. |\n| `Content-Type` | `multipart/form-data` | **Required.** Automatically set by Postman/Client. |\n\n**Body (form-data):**\n\n| Key | Type | Requirement | Description | Example Value |\n| --- | --- | --- | --- | --- |\n| `images` | File | **Mandatory** | Upload 1 to 5 images (Max 5MB each). | `[Select Files]` |\n| `title` | Text | **Mandatory** | Property title (min 5 chars). | `Modern Minimalist House in BSD` |\n| `description` | Text | Optional | Detailed description. | `A lovely 2-story house...` |\n| `propertyTypeId` | Text | **Mandatory** | ID from `/rental/references`. | `2` (e.g., House) |\n| `listingTypeId` | Text | **Mandatory** | ID from `/rental/references`. | `1` (e.g., Rent) |\n| `price` | Text | **Mandatory** | Base price per smallest billing unit. | `5000000` |\n| `currency` | Text | Optional | Default is `IDR`. | `IDR` |\n| `address` | Text | **Mandatory** | Full street address. | `Jl. BSD Raya Utama No. 88` |\n| `city` | Text | **Mandatory** | City name. | `Tangerang Selatan` |\n| `country` | Text | Optional | Default is `Indonesia`. | `Indonesia` |\n| `latitude` | Text | Optional | Geo-coordinate. | `-6.300641` |\n| `longitude` | Text | Optional | Geo-coordinate. | `106.645569` |\n| `billingPeriodIds` | Text | **Mandatory** | **JSON Array String.** IDs of allowed billing cycles. | `[1, 4]` (Monthly & Yearly) |\n| `amenities` | Text | Optional | **JSON Array String.** List of amenity tags. | `[\"WIFI\", \"AC\", \"PARKING\"]` |\n| `attributes` | Text | Optional | **JSON Array String.** Dynamic specs (EAV). | `[{\"attributeTypeId\": 1, \"value\": \"3\"}, {\"attributeTypeId\": 2, \"value\": \"2\"}]` |\n\n> **Note on JSON Strings:** For `billingPeriodIds`, `amenities`, and `attributes`, you cannot send a raw array in `form-data`. You must `JSON.stringify()` the array before sending it as a text field. \n  \n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (201 Created)**\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property listed successfully\",\n    \"data\": {\n        \"id\": \"prop-uuid-12345\",\n        \"landlordId\": \"user-uuid-9876\",\n        \"title\": \"Modern Minimalist House in BSD\",\n        \"price\": \"5000000\",\n        \"city\": \"Tangerang Selatan\",\n        \"isVerified\": false,\n        \"images\": [\n            {\n                \"url\": \"http://172.17.0.1:9000/rentverse-public/properties/img1.jpg\",\n                \"isPrimary\": true\n            },\n            {\n                \"url\": \"http://172.17.0.1:9000/rentverse-public/properties/img2.jpg\",\n                \"isPrimary\": false\n            }\n        ],\n        \"attributes\": [\n            {\n                \"value\": \"3\",\n                \"attributeType\": {\n                    \"slug\": \"bedroom\",\n                    \"label\": \"Bedroom\"\n                }\n            }\n        ]\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: Missing title or invalid JSON format._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: title: Title must be at least 5 characters long\"\n}\n\n ```\n\n**3\\. Error: Unauthorized Role (403 Forbidden)**  \n_Scenario: A Tenant tries to create a listing._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/properties' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27; \\\n--form 'images=@\"/path/to/image1.jpg\"' \\\n--form 'images=@\"/path/to/image2.jpg\"' \\\n--form 'title=\"Luxury Apartment in CBD\"' \\\n--form 'propertyTypeId=\"1\"' \\\n--form 'listingTypeId=\"1\"' \\\n--form 'price=\"15000000\"' \\\n--form 'address=\"Jalan Sudirman Kav 1\"' \\\n--form 'city=\"Jakarta Pusat\"' \\\n--form 'billingPeriodIds=\"[1, 2]\"' \\\n--form 'amenities=\"[\\\"GYM\\\", \\\"POOL\\\"]\"' \\\n--form 'attributes=\"[{\\\"attributeTypeId\\\": 1, \\\"value\\\": \\\"2\\\"}]\"'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get List Properties",
          "id": "36798160-1fb5-4e1f-a635-880e356e16a8",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/properties",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "properties"
              ],
              "query": [
                {
                  "key": "city",
                  "value": "Jakarta",
                  "disabled": true
                },
                {
                  "key": "minPrice",
                  "value": "5000000",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "price_asc",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1",
                  "disabled": true
                },
                {
                  "key": "limit",
                  "value": "5",
                  "disabled": true
                }
              ]
            },
            "description": "### üè† Endpoint: Get Property Feed (Public)\n\n**Description:**  \nRetrieves a paginated list of properties with support for filtering, sorting, and infinite scroll.\n\n- **New Fields:** The response now includes `rating` (Average Stars) and `reviewCount` (Total Reviews) for each property.\n    \n- **Optimization:** Optimized for mobile feed display.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/properties`\n    \n- **Authentication:** None (Public)\n    \n\n---\n\n#### üîç Query Parameters\n\n| Key | Type | Description | Example |\n| --- | --- | --- | --- |\n| `search` | String | Filter by title (case-insensitive). | `Luxury Villa` |\n| `city` | String | Filter by city name. | `Bali` |\n| `typeId` | Number | Filter by Property Type ID (from References). | `1` |\n| `minPrice` | Number | Minimum price filter. | `500000` |\n| `maxPrice` | Number | Maximum price filter. | `10000000` |\n| `sortBy` | Enum | Sort order: `price_asc`, `price_desc`, `newest`, `oldest`. | `newest` |\n| `limit` | Number | Items per page (Default: 10). | `10` |\n| `cursor` | String | The `id` of the last item from the previous page. | `uuid...` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Includes the new rating fields._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Properties retrieved successfully\",\n    \"meta\": {\n        \"total\": 45,\n        \"limit\": 10,\n        \"nextCursor\": \"prop-uuid-888\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"prop-uuid-999\",\n            \"landlordId\": \"user-uuid-123\",\n            \"title\": \"Modern Loft in CBD\",\n            \"address\": \"Jalan Sudirman No. 1\",\n            \"city\": \"Jakarta\",\n            \"price\": 15000000,\n            \"currency\": \"IDR\",\n            \"isVerified\": true,\n            \"rating\": 4.8,          // [NEW] Average Stars (0 to 5)\n            \"reviewCount\": 12,      // [NEW] Total number of reviews\n            \"images\": [\n                {\n                    \"url\": \"https://storage.rentverse.com/rentverse-public/properties/img1.jpg\",\n                    \"isPrimary\": true\n                }\n            ],\n            \"propertyType\": {\n                \"id\": 1,\n                \"label\": \"Apartment\"\n            },\n            \"listingType\": {\n                \"id\": 1,\n                \"label\": \"For Rent\"\n            },\n            \"attributes\": [\n                {\n                    \"value\": \"2\",\n                    \"attributeType\": {\n                        \"label\": \"Bedroom\",\n                        \"iconUrl\": \"bed-outline\"\n                    }\n                }\n            ]\n        },\n        {\n            \"id\": \"prop-uuid-888\",\n            \"landlordId\": \"user-uuid-456\",\n            \"title\": \"Cozy Studio near UI\",\n            \"city\": \"Depok\",\n            \"price\": 2000000,\n            \"currency\": \"IDR\",\n            \"isVerified\": false,\n            \"rating\": 0,            // 0 means no reviews yet\n            \"reviewCount\": 0,\n            \"images\": [],\n            \"propertyType\": {\n                \"id\": 6,\n                \"label\": \"Room (Kost)\"\n            },\n            \"listingType\": {\n                \"id\": 1,\n                \"label\": \"For Rent\"\n            },\n            \"attributes\": []\n        }\n    ]\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/properties?city=Jakarta&sortBy=newest&limit=5'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get Property Details",
          "id": "67bcdf2b-ed7a-43e3-9541-a631c7ecc42a",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/properties/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "properties",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "24434815-3abf-4b56-b217-5977a689702c"
                }
              ]
            },
            "description": "### üè† Endpoint: Get Property Detail\n\n**Description:**  \nRetrieves the full details of a specific property listing.\n\n- **New Fields:** Now includes `rating` (Average Stars) and `reviewCount` (Total Reviews).\n    \n- **Associations:** Returns full details on amenities, billing periods, specifications, and the landlord's public profile.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/properties/:id`\n    \n- **Authentication:** None (Public)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description | Example |\n| --- | --- | --- | --- |\n| `id` | String (UUID) | **Mandatory** | The unique identifier of the property. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns the complete property object with ratings._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property details retrieved successfully\",\n    \"data\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"landlordId\": \"user-uuid-9876\",\n        \"title\": \"Modern Minimalist House in BSD\",\n        \"description\": \"A lovely 2-story house with a garden...\",\n        \"amenities\": [\n            \"WIFI\",\n            \"AC\",\n            \"PARKING\"\n        ],\n        \"address\": \"Jl. BSD Raya Utama No. 88\",\n        \"city\": \"Tangerang Selatan\",\n        \"country\": \"Indonesia\",\n        \"latitude\": -6.300641,\n        \"longitude\": 106.645569,\n        \"price\": \"5000000\",\n        \"currency\": \"IDR\",\n        \"isVerified\": true,\n        \"rating\": 4.5,          // [NEW] Average Stars\n        \"reviewCount\": 8,       // [NEW] Total Reviews\n        \"createdAt\": \"2025-12-07T02:00:00.000Z\",\n        \"updatedAt\": \"2025-12-07T02:00:00.000Z\",\n        \"propertyType\": {\n            \"id\": 2,\n            \"slug\": \"house\",\n            \"label\": \"House\"\n        },\n        \"listingType\": {\n            \"id\": 1,\n            \"slug\": \"rent\",\n            \"label\": \"For Rent\"\n        },\n        \"landlord\": {\n            \"id\": \"user-uuid-9876\",\n            \"name\": \"Jane Landlord\",\n            \"avatarUrl\": \"https://storage.rentverse.com/rentverse-public/avatars/jane.jpg\",\n            \"isVerified\": true,\n            \"createdAt\": \"2025-01-01T00:00:00.000Z\",\n            \"landlordProfile\": {\n                \"lrs_score\": 92,\n                \"response_rate\": 95\n            }\n        },\n        \"images\": [\n            {\n                \"id\": \"img-uuid-1\",\n                \"url\": \"https://storage.rentverse.com/rentverse-public/properties/img1.jpg\",\n                \"isPrimary\": true\n            },\n            {\n                \"id\": \"img-uuid-2\",\n                \"url\": \"https://storage.rentverse.com/rentverse-public/properties/img2.jpg\",\n                \"isPrimary\": false\n            }\n        ],\n        \"allowedBillingPeriods\": [\n            {\n                \"propertyId\": \"550e8400...\",\n                \"billingPeriodId\": 1,\n                \"billingPeriod\": {\n                    \"id\": 1,\n                    \"slug\": \"monthly\",\n                    \"label\": \"Monthly\",\n                    \"durationMonths\": 1\n                }\n            }\n        ],\n        \"attributes\": [\n            {\n                \"id\": \"attr-uuid-1\",\n                \"value\": \"3\",\n                \"attributeType\": {\n                    \"id\": 1,\n                    \"slug\": \"bedroom\",\n                    \"label\": \"Bedroom\",\n                    \"dataType\": \"NUMBER\",\n                    \"iconUrl\": \"bed-outline\"\n                }\n            }\n        ]\n    }\n}\n\n ```\n\n**2\\. Error: Not Found (404 Not Found)**  \n_Scenario: The ID provided does not exist._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Property not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/properties/PROPERTY_UUID_HERE'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Update Property",
          "id": "850d92f2-a86a-4f6b-a9bd-9786fd6a8b1b",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"icalImportUrl\": \"https://calendar.google.com/calendar/ical/deanabdillah%40gmail.com/public/basic.ics\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/properties/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "properties",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "24434815-3abf-4b56-b217-5977a689702c"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Update Property\n\n**Description:**  \nAllows a **Verified Landlord** to update the details of their own property listing.\n\n- **Partial Update:** Only the fields provided in the body will be updated.\n    \n- **Relations Strategy:**\n    \n    - **Amenities/Billing/Attributes:** If provided, the **entire list is replaced**. For example, if you want to add one amenity, you must send the old ones plus the new one.\n        \n- **Images:** This endpoint **does NOT** support image updates (metadata only).\n    \n- **Method:** `PATCH`\n    \n- **URL:** `{{base_url}}/properties/:id`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the property to update. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be the Landlord who owns the property. |\n| `Content-Type` | `application/json` | **Recommended.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"title\": \"Updated Luxury Villa in Bali\",\n  \"price\": 28000000,\n  \"description\": \"Now with fiber optic internet.\",\n  \"amenities\": [\"WIFI\", \"POOL\", \"AC\", \"GYM\"],\n  \"attributes\": [\n    { \"attributeTypeId\": 1, \"value\": \"5\" },\n    { \"attributeTypeId\": 7, \"value\": \"7700\" }\n  ]\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `title` | String | Optional | Min 5 chars. |\n| `description` | String | Optional |  |\n| `price` | Number | Optional | Base price per unit. |\n| `address` | String | Optional |  |\n| `city` | String | Optional |  |\n| `amenities` | Array\\[String\\] | Optional | **Replaces** existing amenities. |\n| `billingPeriodIds` | Array\\[Number\\] | Optional | **Replaces** allowed billing cycles. |\n| `attributes` | Array\\[Object\\] | Optional | **Replaces** dynamic specs (EAV). Objects must have `attributeTypeId` and `value`. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Property updated successfully._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property updated successfully\",\n    \"data\": {\n        \"id\": \"prop-uuid-123\",\n        \"title\": \"Updated Luxury Villa in Bali\",\n        \"price\": \"28000000\",\n        \"city\": \"Bali\",\n        \"amenities\": [\n            \"WIFI\",\n            \"POOL\",\n            \"AC\",\n            \"GYM\"\n        ],\n        \"attributes\": [\n            {\n                \"value\": \"5\",\n                \"attributeType\": {\n                    \"slug\": \"bedroom\",\n                    \"label\": \"Bedroom\"\n                }\n            },\n            {\n                \"value\": \"7700\",\n                \"attributeType\": {\n                    \"slug\": \"electricity\",\n                    \"label\": \"Electricity (VA)\"\n                }\n            }\n        ],\n        \"updatedAt\": \"2025-12-10T10:00:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Not Found or Unauthorized (404/403)**  \n_Scenario: ID doesn't exist OR Landlord tries to edit someone else's property._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to edit this property\"\n}\n\n ```\n\n**3\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario: Price is negative or title too short._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: price: Number must be greater than 0\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request PATCH 'http://localhost:3000/api/v1/properties/YOUR_PROPERTY_ID' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27; \\\n--data '{\n    \"title\": \"Updated Title\",\n    \"price\": 30000000\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Delete Property",
          "id": "f7b789da-d4a1-4985-806f-f25164a0b372",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/properties/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "properties",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "ed2c2ec1-de8b-4e7c-9e17-513c6513839b"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Delete Property (Archive)\n\n**Description:**  \nAllows a **Verified Landlord** to remove a property listing from the platform.\n\n- **Soft Delete:** The property is not physically removed from the database. Instead, the `deletedAt` timestamp is set, hiding it from all public search results and API feeds.\n    \n- **Ownership:** Landlords can only delete their own properties.\n    \n- **Method:** `DELETE`\n    \n- **URL:** `{{base_url}}/properties/:id`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The unique ID of the property to delete. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be the Landlord who owns the property. |\n\n**Body:** None.\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Property successfully archived._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property deleted successfully\",\n    \"data\": null\n}\n\n ```\n\n**2\\. Error: Not Found (404 Not Found)**  \n_Scenario: The property ID does not exist or has already been deleted._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Property not found\"\n}\n\n ```\n\n**3\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: A Landlord tries to delete a property owned by someone else._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to delete this property\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request DELETE 'http://localhost:3000/api/v1/properties/YOUR_PROPERTY_ID' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        }
      ],
      "id": "53789750-4633-4bf4-9703-9d0d0ac118a0",
      "description": "### üì¶ Global Configuration\n\n  * **Base URL:** `{{base_url}}` = `http://localhost:3000/api/v1`\n  * **Authorization:**\n      * **Landlord Endpoints:** Bearer Token (User with `LANDLORD` role)\n      * **Public Endpoints:** None\n\n-----\n\n### 1\\. üìã Get Property References (Prerequisite)\n\nFetch this data first to populate your \"Create Listing\" form dropdowns (e.g., Property Types, Attributes).\n\n  * **Method:** `GET`\n  * **URL:** `{{base_url}}/rental/references`\n  * **Auth:** None (Public)\n  * **Response:**\n    ```json\n    {\n        \"status\": \"success\",\n        \"data\": {\n            \"propertyTypes\": [ { \"id\": 1, \"label\": \"Apartment\" }, ... ],\n            \"listingTypes\": [ { \"id\": 1, \"label\": \"For Rent\" }, ... ],\n            \"billingPeriods\": [ { \"id\": 1, \"label\": \"Monthly\" }, ... ],\n            \"attributes\": [\n                { \"id\": 1, \"label\": \"Bedroom\", \"dataType\": \"NUMBER\" },\n                { \"id\": 5, \"label\": \"Furnishing\", \"dataType\": \"STRING\" }\n            ]\n        }\n    }\n    ```\n\n-----\n\n### 2\\. üè† Create Property Listing\n\nPublish a new property. Requires `multipart/form-data` to handle image uploads and complex data structures.\n\n  * **Method:** `POST`\n  * **URL:** `{{base_url}}/properties`\n  * **Auth:** Bearer Token (Landlord)\n  * **Body Type:** `form-data`\n\n#### **Form Fields Configuration**\n\n| Key | Type | Value Example | Notes |\n| :--- | :--- | :--- | :--- |\n| `images` | File | *(Select 1-5 files)* | **Required**. JPG/PNG. |\n| `title` | Text | `Luxury Villa in Bali` | **Required**. Min 5 chars. |\n| `description` | Text | `Beautiful scenery...` | Optional. |\n| `price` | Text | `25000000` | **Required**. Numeric. |\n| `currency` | Text | `IDR` | Defaults to IDR. |\n| `address` | Text | `Jl. Sunset Road` | **Required**. |\n| `city` | Text | `Kuta` | **Required**. |\n| `country` | Text | `Indonesia` | Defaults to Indonesia. |\n| `latitude` | Text | `-8.409518` | Optional. Float. |\n| `longitude` | Text | `115.188919` | Optional. Float. |\n| `propertyTypeId` | Text | `2` | **Required**. ID from References. |\n| `listingTypeId` | Text | `1` | **Required**. ID from References. |\n| `amenities` | Text | `[\"WIFI\", \"POOL\", \"AC\"]` | **JSON String**. Array of strings. |\n| `billingPeriodIds`| Text | `[1, 4]` | **JSON String**. Array of IDs (e.g. Monthly, Yearly). |\n| `attributes` | Text | `[{\"attributeTypeId\": 1, \"value\": \"3\"}]` | **JSON String**. Array of objects mapping ID to Value. |\n\n#### **Example `attributes` JSON String**\n\nUse this structure to define specs (e.g., 3 Bedrooms, Fully Furnished):\n\n```json\n[\n  { \"attributeTypeId\": 1, \"value\": \"3\" }, \n  { \"attributeTypeId\": 5, \"value\": \"Fully Furnished\" }\n]\n```\n\n#### **Success Response (201 Created)**\n\n```json\n{\n    \"status\": \"success\",\n    \"message\": \"Property listed successfully\",\n    \"data\": {\n        \"id\": \"prop-uuid-123\",\n        \"title\": \"Luxury Villa in Bali\",\n        \"price\": \"25000000\",\n        \"amenities\": [\"WIFI\", \"POOL\", \"AC\"],\n        \"images\": [\n            {\n                \"url\": \"http://localhost:9000/rentverse-public/properties/user-id/img1.jpg\",\n                \"isPrimary\": true\n            }\n        ],\n        \"attributes\": [\n            {\n                \"value\": \"3\",\n                \"attributeType\": { \"label\": \"Bedroom\" }\n            }\n        ]\n    }\n}\n```\n\n#### **Common Errors**\n\n  * **400 Bad Request:** Validation failed (e.g., malformed JSON string, missing fields).\n  * **403 Forbidden:** User is not a Landlord.\n  * **401 Unauthorized:** Invalid or missing token."
    },
    {
      "name": "KYC",
      "item": [
        {
          "name": "Submit KYC Documents",
          "id": "a97e8232-1189-46ae-8e39-cb9bf108fc12",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "ktp",
                  "type": "file",
                  "src": "/home/dean/Pictures/pp.png"
                },
                {
                  "key": "selfie",
                  "type": "file",
                  "src": "/home/dean/Pictures/pp.png"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/kyc/submit",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "kyc",
                "submit"
              ]
            },
            "description": "### üìÑ Endpoint: Submit KYC Documents\n\n**Description:**  \nThis endpoint handles the secure upload of identity verification documents (Identity Card/KTP and Selfie). Files are stored in a **Private S3 Bucket** (not publicly accessible) and the user's Trust Profile status is updated to `SUBMITTED`.\n\n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/kyc/submit`\n    \n- **Authentication:** `Bearer`\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The JWT access token obtained from login. |\n| `Content-Type` | `multipart/form-data` | **Required.** Automatically set by Postman/Client when attaching files. |\n\n**Body (form-data):**\n\n| Key | Type | Requirement | Description | Restrictions |\n| --- | --- | --- | --- | --- |\n| `ktp` | File | **Mandatory** | The user's Identity Card (KTP) image. | Max 5MB. Formats: JPG, PNG. |\n| `selfie` | File | **Conditional** | The user's Selfie holding the ID. **Required for TENANT role.** | Max 5MB. Formats: JPG, PNG. |\n\n> **Note:** Landlords are currently only required to upload the `ktp`. Tenants must upload both `ktp` and `selfie` for facial matching verification. \n  \n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Documents uploaded successfully and KYC status updated._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Verification documents uploaded\",\n    \"data\": {\n        \"message\": \"KYC submitted successfully. Pending verification.\"\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: A Tenant tries to submit without a selfie._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: Selfie is required for Tenants\"\n}\n\n ```\n\n**3\\. Error: No File Attached (400 Bad Request)**  \n_Scenario: Request sent without the 'ktp' field._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"KTP image is required\"\n}\n\n ```\n\n**4\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Token is missing, invalid, or expired._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/kyc/submit' \\\n--header &#x27;Authorization: Bearer <YOUR_ACCESS_TOKEN>&#x27; \\\n--form 'ktp=@\"/path/to/my_ktp.jpg\"' \\\n--form 'selfie=@\"/path/to/my_selfie.jpg\"'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "cdac8ab1-9d3a-4484-a549-7d5d853dd17d"
    },
    {
      "name": "Notification",
      "item": [
        {
          "name": "Register Device",
          "id": "81c53057-a275-4205-8e79-06885931e28e",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fcmToken\": \"eAzm5RRaQiC-2ej0Fj2_TC:APA91bHXhq9AsQUvN9zIncE9mHUv7r_0M9JG4fS3ovm3eWqCZBWVjudK999xUEtTudWMDrnfLkgSiAjjlf2xGj8lw9f5HundG7ZFVg5ZFmMqp5mvuhtxK98\",\n  \"platform\": \"ANDROID\",\n  \"deviceModel\": \"itel S688LN\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/notifications/device",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                "device"
              ]
            },
            "description": "### üìÑ Endpoint: Register Device (Push Notifications)\n\n**Description:**  \nThis endpoint registers a user's device (FCM Token) to receive push notifications. This must be called every time the mobile app is opened or when the user logs in to ensure the token is fresh and associated with the current user.\n\n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/notifications/device`\n    \n- **Authentication:** `Bearer`\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The JWT access token obtained from login. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"fcmToken\": \"c_5yq3...unique_fcm_token_from_firebase...\",\n  \"platform\": \"ANDROID\",\n  \"deviceModel\": \"Pixel 7 Pro\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `fcmToken` | String | **Mandatory** | The Firebase Cloud Messaging token generated by the mobile SDK. Min 10 chars. |\n| `platform` | Enum | **Mandatory** | The operating system. Values: `\"ANDROID\"`, `\"IOS\"`, `\"WEB\"`. |\n| `deviceModel` | String | **Optional** | The model name of the device (e.g., \"iPhone 14\"). Useful for debugging. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Device registered or updated successfully._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Device registered successfully\",\n    \"data\": {\n        \"message\": \"Device registered successfully\"\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: Invalid platform or missing token._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: platform: Platform must be ANDROID, IOS, or WEB\"\n}\n\n ```\n\n**3\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Token is missing or expired._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/notifications/device' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_ACCESS_TOKEN>&#x27; \\\n--data '{\n    \"fcmToken\": \"d7Xy9...\",\n    \"platform\": \"IOS\",\n    \"deviceModel\": \"iPhone 13\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get Notification History",
          "id": "7d9a69cb-36c1-4997-8fbe-6ec04447ba59",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/notifications",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications"
              ]
            },
            "description": "### üîî Endpoint: Get Notification History\n\n**Description:**  \nRetrieves a paginated list of the user's notification history. This allows users to view past alerts (e.g., Booking Updates, Chat Messages, System Announcements) even if they dismissed the push notification.\n\n- **Ordering:** Most recent first (`createdAt: desc`).\n    \n- **Pagination:** Uses cursor-based pagination for infinite scrolling.\n    \n- **Read Status:** Includes an `isRead` boolean to highlight new items in the UI.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/notifications`\n    \n- **Authentication:** `Bearer` (Any Role)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The token of the logged-in user. |\n\n**Query Parameters:**\n\n| Key | Type | Description | Default |\n| --- | --- | --- | --- |\n| `limit` | Number | **Optional.** Number of items per page. | `20` |\n| `cursor` | String | **Optional.** The `id` of the last notification from the previous page. | `null` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns a list of notifications._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Success\",\n    \"meta\": {\n        \"limit\": 20,\n        \"total\": 0,\n        \"nextCursor\": \"notif-uuid-888\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"notif-uuid-999\",\n            \"userId\": \"user-uuid-123\",\n            \"title\": \"Booking Confirmed! üéâ\",\n            \"body\": \"Your booking for 'Luxury Villa in Bali' has been accepted.\",\n            \"type\": \"BOOKING_STATUS\",\n            \"data\": {\n                \"status\": \"CONFIRMED\",\n                \"bookingId\": \"booking-uuid-456\",\n                \"click_action\": \"FLUTTER_NOTIFICATION_CLICK\"\n            },\n            \"isRead\": false,\n            \"createdAt\": \"2025-12-14T10:30:00.000Z\"\n        },\n        {\n            \"id\": \"notif-uuid-888\",\n            \"userId\": \"user-uuid-123\",\n            \"title\": \"New Message from John\",\n            \"body\": \"Is the place still available?\",\n            \"type\": \"CHAT_MESSAGE\",\n            \"data\": {\n                \"roomId\": \"room-uuid-777\",\n                \"senderId\": \"user-uuid-987\"\n            },\n            \"isRead\": true,\n            \"createdAt\": \"2025-12-14T09:15:00.000Z\"\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - Empty (200 OK)**  \n_User has no history._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Success\",\n    \"meta\": {\n        \"limit\": 20,\n        \"total\": 0,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    },\n    \"data\": []\n}\n\n ```\n\n**3\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Token is missing or expired._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/notifications?limit=10' \\\n--header &#x27;Authorization: Bearer <YOUR_ACCESS_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Mark Notification as Read",
          "id": "c2e22edb-9502-4a79-962f-7054a8455fb4",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/notifications/:id/read",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                ":id",
                "read"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "6a7b108c-11b6-4ab8-84d7-155ac836d3c8"
                }
              ]
            },
            "description": "### üîî Endpoint: Mark Notification as Read\n\n**Description:**  \nMarks a specific notification as \"Read\" (`isRead: true`). This is usually called when a user taps on a notification in the history list or opens the related item.\n\n- **Idempotency:** Calling this on an already read notification has no side effects; it remains read.\n    \n- **Security:** Users can only mark their _own_ notifications as read.\n    \n- **Method:** `PATCH`\n    \n- **URL:** `{{base_url}}/notifications/:id/read`\n    \n- **Authentication:** `Bearer` (Any Role)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The unique ID of the notification to mark as read. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The token of the logged-in user. |\n\n**Body:** None.\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Notification status updated._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Notification marked as read\",\n    \"data\": null\n}\n\n ```\n\n**2\\. Error: Not Found or Unauthorized (404 Not Found)**  \n_Scenario: Notification ID does not exist, or belongs to another user._  \n_(Note: Prisma_ `_updateMany_` _returns success even if no records match, but if your service adds a check, it might return 404. Assuming standard behavior)._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Notification marked as read\",\n    \"data\": null\n}\n\n ```\n\n_(In many implementations, an idempotent \"mark read\" simply returns success even if the ID doesn't exist, to prevent information leakage. If strict validation is added, you might see a 404 error)._\n\n**3\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Token is missing or expired._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request PATCH 'http://localhost:3000/api/v1/notifications/NOTIF_UUID_HERE/read' \\\n--header &#x27;Authorization: Bearer <YOUR_ACCESS_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        }
      ],
      "id": "97a9cd51-8424-4bec-866f-c24597973837",
      "description": "### üì± Flutter Push Notification Guide (for Rentverse)\n\nSince the backend uses **Firebase Cloud Messaging (FCM)**, the Flutter app needs to use the `firebase_messaging` package.\n\n#### 1\\. Dependencies\n\nAdd these to `pubspec.yaml`:\n\n``` yaml\ndependencies:\n  firebase_core: latest_version\n  firebase_messaging: latest_version\n  flutter_local_notifications: latest_version # For showing heads-up alerts in foreground\n\n ```\n\n#### 2\\. The Logic Flow\n\n1. **App Starts:** Initialize Firebase.\n    \n2. **Login/Home:** Request Notification Permissions from the user.\n    \n3. **Get Token:** Retrieve the `fcmToken` from Firebase SDK.\n    \n4. **Sync with Backend (CRITICAL):** Call the Rentverse API `POST /notifications/device` to link this token to the logged-in user.\n    \n5. **Listen:** Handle incoming messages.\n    \n\n---\n\n### 3\\. Implementation Steps\n\n#### A. Initialize & Request Permission\n\n``` dart\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:firebase_messaging/firebase_messaging.dart';\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp();\n  // Register background handler\n  FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);\n  runApp(MyApp());\n}\n// Must be a top-level function\nFuture<void> _firebaseMessagingBackgroundHandler(RemoteMessage message) async {\n  print(\"Handling a background message: ${message.messageId}\");\n}\n\n ```\n\n#### B. Sync Token with Rentverse Backend\n\nThis is the most important part. When the user logs in, or when the token refreshes, you **MUST** send it to the backend.\n\n**API Endpoint:** `POST {{base_url}}/notifications/device`  \n**Headers:** `Authorization: Bearer`\n\n``` dart\nFuture<void> registerDeviceToken(String accessToken) async {\n  // 1. Get the token from Firebase\n  String? fcmToken = await FirebaseMessaging.instance.getToken();\n  if (fcmToken == null) return;\n  // 2. Send to Rentverse Backend\n  final response = await http.post(\n    Uri.parse('https://api.rentverse.com/api/v1/notifications/device'),\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer $accessToken',\n    },\n    body: jsonEncode({\n      \"fcmToken\": fcmToken,\n      \"platform\": Platform.isAndroid ? \"ANDROID\" : \"IOS\",\n      \"deviceModel\": \"iPhone 14 Pro\" // Optional: Get real model if possible\n    }),\n  );\n  if (response.statusCode == 200) {\n    print(\"‚úÖ Device registered for notifications\");\n  } else {\n    print(\"‚ùå Failed to register device: ${response.body}\");\n  }\n}\n\n ```\n\n#### C. Token Rotation\n\nThe FCM token can change (e.g., app reinstall, clearing data). You should listen for refresh events:\n\n``` dart\nFirebaseMessaging.instance.onTokenRefresh.listen((newToken) {\n  // Call the registerDeviceToken API again with the new token\n  registerDeviceToken(currentUser.accessToken);\n});\n\n ```\n\n---\n\n### 4\\. Handling Incoming Messages\n\nThe backend sends a standard payload structure:\n\n``` json\n{\n  \"notification\": {\n    \"title\": \"Welcome to Rentverse!\",\n    \"body\": \"Your account is ready.\"\n  },\n  \"data\": {\n    \"type\": \"BOOKING_UPDATE\",\n    \"bookingId\": \"12345\"\n  }\n}\n\n ```\n\n#### Scenario 1: App is in Foreground\n\nNotifications don't show up automatically when the app is open. You need to show a local notification manually or update the UI.\n\n``` dart\nFirebaseMessaging.onMessage.listen((RemoteMessage message) {\n  print('Got a message whilst in the foreground!');\n  print('Message data: ${message.data}');\n  if (message.notification != null) {\n    print('Message also contained a notification: ${message.notification}');\n    // Show a snackbar or LocalNotification dialog here\n    Get.snackbar(\n      message.notification!.title!,\n      message.notification!.body!,\n      onTap: (_) => handleInteraction(message.data),\n    );\n  }\n});\n\n ```\n\n#### Scenario 2: App is in Background / Terminated (User Taps Notification)\n\nThis opens the app. You need to check if the app was launched via a notification.\n\n``` dart\n// 1. Check if app was opened from a terminated state\nRemoteMessage? initialMessage = await FirebaseMessaging.instance.getInitialMessage();\nif (initialMessage != null) {\n  _handleMessage(initialMessage);\n}\n// 2. Listen for taps when app is in background\nFirebaseMessaging.onMessageOpenedApp.listen(_handleMessage);\nvoid _handleMessage(RemoteMessage message) {\n  // Navigate based on data payload\n  if (message.data['type'] == 'booking') {\n    Navigator.pushNamed(context, '/booking', arguments: message.data['id']);\n  }\n}\n\n ```\n\n### Summary Checklist for Mobile Dev\n\n1. Setup Firebase Project (download `google-services.json` / `GoogleService-Info.plist`).\n    \n2. Call `FirebaseMessaging.instance.requestPermission()`.\n    \n3. **Crucial:** Call `POST /notifications/device` after every Login.\n    \n4. Listen to `onTokenRefresh` and re-register.\n    \n5. Handle navigation in `onMessageOpenedApp`."
    },
    {
      "name": "Booking",
      "item": [
        {
          "name": "Create Booking",
          "id": "66af3ded-ee39-439d-9de6-0098ad778276",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"propertyId\": \"24434815-3abf-4b56-b217-5977a689702c\",\n  \"billingPeriodId\": 1,\n  \"startDate\": \"2026-01-01T00:00:00Z\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/bookings",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "bookings"
              ]
            },
            "description": "### üìÑ Endpoint: Create Booking Request\n\n**Description:**  \nThis endpoint allows a **Verified Tenant** to initiate a rental booking. It performs availability checks, calculates the total price based on the billing period, and generates a `PENDING_PAYMENT` invoice.\n\n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/bookings`\n    \n- **Authentication:** `Bearer` (Role: `TENANT` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be a User with role `TENANT`. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"propertyId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"billingPeriodId\": 1,\n  \"startDate\": \"2025-12-01T00:00:00Z\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `propertyId` | String (UUID) | **Mandatory** | The ID of the property to rent. |\n| `billingPeriodId` | Integer | **Mandatory** | The ID of the billing cycle (e.g., 1 for Monthly, 4 for Yearly). Get this from `GET /rental/references`. |\n| `startDate` | String (ISO8601) | **Mandatory** | The check-in date. Must be a valid ISO date string. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (201 Created)**  \n_Booking created, Invoice generated, and Landlord notified._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Booking request created successfully. Please pay the invoice.\",\n    \"data\": {\n        \"bookingId\": \"a1b2c3d4-e5f6-47g8-h9i0-j1k2l3m4n5o6\",\n        \"invoiceId\": \"z9y8x7w6-v5u4-3t2s-1r0q-p9o8n7m6l5k4\",\n        \"status\": \"PENDING_PAYMENT\",\n        \"amount\": 15000000\n    }\n}\n\n ```\n\n**2\\. Error: Not Verified (403 Forbidden)**  \n_Scenario: Tenant has not completed KYC._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You must complete KYC verification to book a property.\"\n}\n\n ```\n\n**3\\. Error: Property Unavailable (409 Conflict)**  \n_Scenario: Another booking exists for the selected dates._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Property is not available for the selected dates.\"\n}\n\n ```\n\n**4\\. Error: Invalid Billing Period (400 Bad Request)**  \n_Scenario: Trying to book \"Monthly\" on a property that only allows \"Yearly\"._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"This billing period is not allowed for this property\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/bookings' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_TENANT_TOKEN>&#x27; \\\n--data '{\n    \"propertyId\": \"YOUR_PROPERTY_ID\",\n    \"billingPeriodId\": 1,\n    \"startDate\": \"2025-11-01T10:00:00.000Z\"\n}'\n\n ```\n\n---\n\n### ‚ö†Ô∏è Pre-requisites for Testing\n\nTo successfully test this endpoint, ensure you have:\n\n1. **Registered a Tenant User:** (`POST /auth/register` with `role: \"TENANT\"`).\n    \n2. **Verified the Tenant:**\n    \n    - **Option A (Real way):** Use `POST /kyc/submit` then manually update DB `kyc_status` to `VERIFIED`.\n        \n    - **Option B (Cheat way):** Manually update your user's `TenantTrustProfile` in the database: `UPDATE \"tenant_profiles\" SET \"kyc_status\" = 'VERIFIED' WHERE \"userRefId\" = '...';`\n        \n3. **Created a Property:** As a Landlord (`POST /properties`).\n    \n4. **Found a Billing Period ID:** Check `GET /rental/references` (usually `1` is Monthly)."
          },
          "response": []
        },
        {
          "name": "Get My Bookings",
          "id": "659a3a9e-3d2a-43bc-ae29-83841e823c3f",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/bookings",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "bookings"
              ]
            },
            "description": "### üìÑ Endpoint: Get My Bookings (List)\n\n**Description:**  \nRetrieves a paginated list of bookings for the current user.\n\n- **Tenants:** See properties they have booked.\n    \n- **Landlords:** See who booked their properties.\n    \n- **Features:** Supports Infinite Scroll (Cursor), Status Filtering, and Search.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/bookings`\n    \n- **Authentication:** `Bearer` (Role: `TENANT` or `LANDLORD`)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** |\n\n**Query Parameters (Optional):**\n\n| Key | Type | Description | Example |\n| --- | --- | --- | --- |\n| `limit` | Number | Items per page (Default: 10). | `10` |\n| `cursor` | String | The `nextCursor` from the previous response (for infinite scroll). | `booking-uuid-123` |\n| `status` | String | Filter by status: `PENDING_PAYMENT`, `ACTIVE`, `CANCELLED`, `COMPLETED`. | `ACTIVE` |\n| `search` | String | Search by **Property Title** (Case insensitive). | `Bali` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Filtered List (200 OK)**  \n_Scenario: Searching for \"Bali\" properties with status \"ACTIVE\"._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Bookings retrieved successfully\",\n    \"data\": [\n        {\n            \"id\": \"booking-uuid-456\",\n            \"status\": \"ACTIVE\",\n            \"startDate\": \"2025-12-25T00:00:00.000Z\",\n            \"endDate\": \"2026-01-25T00:00:00.000Z\",\n            \"property\": {\n                \"id\": \"prop-uuid-777\",\n                \"title\": \"Sunny Villa in Bali\",\n                \"city\": \"Bali\",\n                \"image\": \"http://minio.rentverse.com/rentverse-public/properties/villa.jpg\"\n            },\n            \"payment\": {\n                \"invoiceId\": \"inv-uuid-888\",\n                \"status\": \"PAID\",\n                \"amount\": 25000000,\n                \"currency\": \"IDR\"\n            },\n            \"createdAt\": \"2025-12-08T11:30:00.000Z\"\n        }\n    ],\n    \"meta\": {\n        \"total\": 1,\n        \"limit\": 10,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    }\n}\n\n ```\n\n**2\\. Success - Empty State (200 OK)**  \n_Scenario: No bookings match the filter._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Bookings retrieved successfully\",\n    \"data\": [],\n    \"meta\": {\n        \"total\": 0,\n        \"limit\": 10,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    }\n}\n\n ```\n\n---\n\n#### üíª cURL Examples\n\n**Simple Fetch:**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/bookings' \\\n--header &#x27;Authorization: Bearer <TOKEN>&#x27;\n\n ```\n\n**Search & Filter:**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/bookings?status=ACTIVE&search=Bali&limit=5' \\\n--header &#x27;Authorization: Bearer <TOKEN>&#x27;\n\n ```\n\n**Next Page (Infinite Scroll):**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/bookings?cursor=last-booking-id-from-prev-response' \\\n--header &#x27;Authorization: Bearer <TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Confirm Booking",
          "id": "c8541e5a-bb6d-44a7-932a-a5480e80f7e0",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/bookings/:id/confirm",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "bookings",
                ":id",
                "confirm"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "9eb4690e-69e4-46cc-9a2f-bad68d21abd1"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Confirm Booking\n\n**Description:**  \nAllows a **Verified Landlord** to manually approve a booking request.\n\n- **Flow:** Tenant creates booking -> Status is `PENDING_PAYMENT` or `PENDING_CONFIRMATION`. Landlord calls this endpoint -> Status becomes `CONFIRMED`.\n    \n- **Prerequisites:** The booking must be in a pending state. You cannot confirm a cancelled or already rejected booking.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/bookings/:id/confirm`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the booking to confirm. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be the Landlord who owns the property. |\n\n**Body:** None.\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Booking status updated to CONFIRMED._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Booking confirmed successfully\",\n    \"data\": {\n        \"id\": \"booking-uuid-123\",\n        \"tenantId\": \"user-uuid-tenant\",\n        \"propertyId\": \"prop-uuid-123\",\n        \"status\": \"CONFIRMED\",\n        \"startDate\": \"2025-12-25T00:00:00.000Z\",\n        \"endDate\": \"2026-01-25T00:00:00.000Z\",\n        \"createdAt\": \"2025-12-10T09:00:00.000Z\",\n        \"updatedAt\": \"2025-12-10T12:00:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Invalid State (400 Bad Request)**  \n_Scenario: Trying to confirm a booking that is already cancelled or finalized._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Cannot confirm booking with status CANCELLED\"\n}\n\n ```\n\n**3\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: Landlord tries to confirm a booking for a property they do not own._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Booking request not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/bookings/YOUR_BOOKING_ID/confirm' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Reject Booking",
          "id": "b16d6e19-4baa-40b2-9f49-5c2d21998ba2",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Sorry, the unit is undergoing maintenance during those dates.\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/bookings/:id/reject",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "bookings",
                ":id",
                "reject"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "dd6e3d19-d78d-419b-b006-07fddb29b4f0"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Reject Booking\n\n**Description:**  \nAllows a **Verified Landlord** to decline a booking request.\n\n- **Requirement:** You must provide a `reason` for the rejection. This helps build trust and transparency with the Tenant.\n    \n- **Flow:** Status moves from `PENDING_PAYMENT` (or `PENDING_CONFIRMATION`) -> `REJECTED`.\n    \n- **Refunds:** If the booking was already paid (depending on your flow), this action should trigger a refund process (not fully implemented yet, but the status update is the first step).\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/bookings/:id/reject`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the booking to reject. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be the Landlord who owns the property. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"reason\": \"Sorry, the unit is undergoing maintenance during those dates.\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `reason` | String | **Mandatory** | Minimum 5 characters. Explain why the request is being rejected. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Booking status updated to REJECTED._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Booking rejected\",\n    \"data\": {\n        \"id\": \"booking-uuid-123\",\n        \"tenantId\": \"user-uuid-tenant\",\n        \"propertyId\": \"prop-uuid-123\",\n        \"status\": \"REJECTED\",\n        \"updatedAt\": \"2025-12-10T12:05:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario: Reason is missing or too short._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: reason: Rejection reason is required (min 5 chars)\"\n}\n\n ```\n\n**3\\. Error: Invalid State (400 Bad Request)**  \n_Scenario: Trying to reject a booking that is already finalized._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Booking is already finalized\"\n}\n\n ```\n\n**4\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: Landlord tries to reject a booking for a property they do not own._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Booking request not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/bookings/YOUR_BOOKING_ID/reject' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27; \\\n--data '{\n    \"reason\": \"Unit is not available.\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Check Property Availability",
          "id": "fbda02a0-203b-44ca-b8f6-e65f1079faed",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/bookings/availability/:propertyId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "bookings",
                "availability",
                ":propertyId"
              ],
              "variable": [
                {
                  "key": "propertyId",
                  "value": "24434815-3abf-4b56-b217-5977a689702c"
                }
              ]
            },
            "description": "### üìÖ Endpoint: Check Property Availability (Public)\n\n**Description:**  \nRetrieves a list of **unavailable date ranges** for a specific property. This includes:\n\n1. **Confirmed Rentverse Bookings:** Existing reservations in the system.\n    \n2. **External Blocks:** Dates blocked via iCal sync (e.g., Airbnb, Booking.com).\n    \n\n**Frontend Usage:**  \nUse this endpoint to **disable dates** in the date picker so users cannot select them.\n\n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/bookings/availability/:propertyId`\n    \n- **Authentication:** None (Public)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description | Example |\n| --- | --- | --- | --- |\n| `propertyId` | String (UUID) | **Required.** The unique ID of the property. | `550e8400-e29b-41d4-a716-446655440000` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns an array of blocked date ranges._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Availability retrieved successfully\",\n    \"data\": [\n        {\n            \"start\": \"2025-12-20T00:00:00.000Z\",\n            \"end\": \"2025-12-25T00:00:00.000Z\" \n            // Reason: Rentverse Booking\n        },\n        {\n            \"start\": \"2026-01-01T00:00:00.000Z\",\n            \"end\": \"2026-01-07T00:00:00.000Z\"\n            // Reason: External iCal Block (Airbnb)\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - Fully Available (200 OK)**  \n_Property has no future bookings._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Availability retrieved successfully\",\n    \"data\": []\n}\n\n ```\n\n**3\\. Error: Invalid ID (400 Bad Request)**  \n_If the UUID is malformed._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Invalid ID format\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/bookings/availability/550e8400-e29b-41d4-a716-446655440000'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "9e23e3ae-7978-4298-8b25-dc85b1826358"
    },
    {
      "name": "Payment",
      "item": [
        {
          "name": "Pay",
          "id": "819c3d6c-27a1-4326-afbf-9078816fb841",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/payments/pay/:invoiceId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "payments",
                "pay",
                ":invoiceId"
              ],
              "variable": [
                {
                  "key": "invoiceId",
                  "value": "411f5242-2202-44e7-92ca-5077b85aa534"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Create Payment Transaction (Get Snap Token)\n\n**Description:**  \nThis endpoint initiates a payment transaction for a specific invoice. It communicates with the **Midtrans Snap API** to generate a unique **Payment Token** and **Redirect URL**.\n\n- **Mobile App:** Use the `token` to invoke the Midtrans SDK (Android/iOS).\n    \n- **Web/WebView:** Open the `redirect_url` to show the hosted payment page.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/payments/pay/:invoiceId`\n    \n- **Authentication:** `Bearer` (Role: `TENANT` only)\n    \n\n---\n\n#### Mq Request\n\n**Path Variables:**\n\n| Key | Type | Description | Example |\n| --- | --- | --- | --- |\n| `invoiceId` | String (UUID) | **Mandatory.** The unique ID of the invoice you want to pay. | `z9y8x7w6-v5u4-3t2s-1r0q-p9o8n7m6l5k4` |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The token of the **Tenant** who owns the booking. |\n\n**Body:** None.\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Transaction created successfully. Use the token to pay._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Payment token generated\",\n    \"data\": {\n        \"token\": \"c7d2301b-5e48-4c79-8b65-8f2b7e1f4b8c\",\n        \"redirect_url\": \"https://app.sandbox.midtrans.com/snap/v2/vtweb/c7d2301b-5e48-4c79-8b65-8f2b7e1f4b8c\"\n    }\n}\n\n ```\n\n**2\\. Error: Unauthorized Access (403 Forbidden)**  \n_Scenario: A user tries to pay for an invoice that belongs to someone else._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Unauthorized access to this invoice\"\n}\n\n ```\n\n**3\\. Error: Already Paid (400 Bad Request)**  \n_Scenario: The invoice status is already_ `_PAID_`_._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Invoice is already paid\"\n}\n\n ```\n\n**4\\. Error: Invoice Not Found (404 Not Found)**  \n_Scenario: The_ `_invoiceId_` _does not exist._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Invoice not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/payments/pay/YOUR_INVOICE_ID' \\\n--header &#x27;Authorization: Bearer <YOUR_TENANT_ACCESS_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        }
      ],
      "id": "15cc8d83-0693-4be9-98c8-99d0404904b4"
    },
    {
      "name": "Finance",
      "item": [
        {
          "name": "Get User Wallet",
          "id": "f851c33b-8af7-4858-ab1f-333b0f579ad5",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/finance/wallet",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "finance",
                "wallet"
              ]
            },
            "description": "### üìÑ Endpoint: Get User Wallet\n\n**Description:**  \nThis endpoint retrieves the authenticated user's digital wallet details, including the current balance and the history of recent transactions (e.g., rent income, withdrawals).\n\n- **Auto-Creation:** If the user does not have a wallet yet, this endpoint automatically creates one with a `0` balance.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/finance/wallet`\n    \n- **Authentication:** `Bearer` (Available to **Landlords** and **Tenants**)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The JWT access token of the logged-in user. |\n\n**Body:** None.\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK) - Wallet Found**  \n_Returns the balance and list of transactions._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Wallet retrieved successfully\",\n    \"data\": {\n        \"id\": \"wallet-uuid-12345\",\n        \"userId\": \"user-uuid-9876\",\n        \"balance\": \"14250000\",\n        \"currency\": \"IDR\",\n        \"updatedAt\": \"2025-12-07T10:00:00.000Z\",\n        \"transactions\": [\n            {\n                \"id\": \"tx-uuid-1\",\n                \"walletId\": \"wallet-uuid-12345\",\n                \"amount\": \"14250000\",\n                \"type\": \"CREDIT\",\n                \"category\": \"RENT_INCOME\",\n                \"description\": \"Income from Invoice #inv-123 (Fee: 750000)\",\n                \"referenceId\": \"inv-123\",\n                \"balanceAfter\": \"14250000\",\n                \"createdAt\": \"2025-12-07T10:00:00.000Z\"\n            }\n        ]\n    }\n}\n\n ```\n\n**2\\. Success (200 OK) - New Empty Wallet**  \n_Scenario: User accesses wallet for the first time._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Wallet retrieved successfully\",\n    \"data\": {\n        \"id\": \"wallet-uuid-new\",\n        \"userId\": \"user-uuid-9876\",\n        \"balance\": \"0\",\n        \"currency\": \"IDR\",\n        \"transactions\": []\n    }\n}\n\n ```\n\n**3\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Token is missing or expired._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/finance/wallet' \\\n--header &#x27;Authorization: Bearer <YOUR_ACCESS_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get Payout Requests (Admin)",
          "id": "2b6e0a14-38cb-4471-9ebe-d23a8aac2d31",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/finance/admin/payouts",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "finance",
                "admin",
                "payouts"
              ]
            },
            "description": "### üí∏ Endpoint: Get Payout Requests (Admin)\n\n**Description:**  \nRetrieves a paginated list of all payout requests from Landlords. This is used by Admins to review pending withdrawals before approving or rejecting them.\n\n- **Filtering:** Supports filtering by status (e.g., see only `PENDING` requests).\n    \n- **Pagination:** Uses cursor-based pagination for infinite scrolling tables.\n    \n- **Context:** Returns the payout details along with the requester's name and email (via Wallet relation).\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/finance/admin/payouts`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Query Parameters:**\n\n| Key | Type | Description | Example |\n| --- | --- | --- | --- |\n| `status` | String | **Optional.** Filter by request status (`PENDING`, `COMPLETED`, `REJECTED`). | `PENDING` |\n| `limit` | Number | **Optional.** Number of items per page. Default `10`. | `20` |\n| `cursor` | String | **Optional.** The `id` of the last item from the previous page. | `payout-uuid-123` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns a list of payout requests._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Payout requests retrieved\",\n    \"meta\": {\n        \"total\": 15,\n        \"limit\": 10,\n        \"nextCursor\": \"payout-uuid-109\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"payout-uuid-101\",\n            \"walletId\": \"wallet-uuid-888\",\n            \"amount\": \"1500000\",\n            \"status\": \"PENDING\",\n            \"bankName\": \"BCA\",\n            \"accountNo\": \"1234567890\",\n            \"accountName\": \"John Landlord\",\n            \"processedAt\": null,\n            \"notes\": \"Rent withdrawal for December\",\n            \"createdAt\": \"2025-12-12T08:00:00.000Z\",\n            \"updatedAt\": \"2025-12-12T08:00:00.000Z\",\n            \"wallet\": {\n                \"user\": {\n                    \"name\": \"John Landlord\",\n                    \"email\": \"landlord@rentverse.com\"\n                }\n            }\n        },\n        {\n            \"id\": \"payout-uuid-102\",\n            \"walletId\": \"wallet-uuid-999\",\n            \"amount\": \"500000\",\n            \"status\": \"COMPLETED\",\n            \"bankName\": \"Mandiri\",\n            \"accountNo\": \"987654321\",\n            \"accountName\": \"Jane Host\",\n            \"processedAt\": \"2025-12-10T10:00:00.000Z\",\n            \"notes\": null,\n            \"createdAt\": \"2025-12-09T15:30:00.000Z\",\n            \"updatedAt\": \"2025-12-10T10:00:00.000Z\",\n            \"wallet\": {\n                \"user\": {\n                    \"name\": \"Jane Host\",\n                    \"email\": \"jane@rentverse.com\"\n                }\n            }\n        }\n    ]\n}\n\n ```\n\n**2\\. Error: Forbidden (403 Forbidden)**  \n_Scenario: A non-admin user tries to access the list._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/finance/admin/payouts?status=PENDING&limit=5' \\\n--header &#x27;Authorization: Bearer <ADMIN_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Request Payout",
          "id": "89766335-12ae-4c01-814d-492a5bece1a8",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"amount\": 5000000,\n    \"bankName\": \"bca\",\n    \"accountNo\": \"1234567890\",\n    \"accountName\": \"John Landlord\",\n    \"notes\": \"Withdrawal for December\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/finance/payout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "finance",
                "payout"
              ]
            },
            "description": "### üìÑ Endpoint: Request Payout (Withdrawal)\n\n**Description:**  \nThis endpoint allows a **Verified Landlord** to request a withdrawal of their earnings from their digital wallet to a bank account.\n\n- **Logic:** The system immediately checks if the wallet has sufficient balance. If yes, it deducts the amount (locks the funds) and creates a `PENDING` payout request.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/finance/payout`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be a User with role `LANDLORD`. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"amount\": 1500000,\n  \"bankName\": \"BCA\",\n  \"accountNo\": \"1234567890\",\n  \"accountName\": \"John Doe\",\n  \"notes\": \"Rent withdrawal for December\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `amount` | Number | **Mandatory** | The amount to withdraw. Min `50000`. |\n| `bankName` | String | **Mandatory** | Name of the destination bank (e.g., \"BCA\", \"Mandiri\"). |\n| `accountNo` | String | **Mandatory** | The bank account number. |\n| `accountName` | String | **Mandatory** | The name of the account holder. |\n| `notes` | String | Optional | Any additional remarks for the admin. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (201 Created)**  \n_Funds locked, request created._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Payout request created successfully\",\n    \"data\": {\n        \"id\": \"payout-uuid-12345\",\n        \"walletId\": \"wallet-uuid-67890\",\n        \"amount\": \"1500000\",\n        \"status\": \"PENDING\",\n        \"bankName\": \"BCA\",\n        \"accountNo\": \"1234567890\",\n        \"accountName\": \"John Doe\",\n        \"notes\": \"Rent withdrawal for December\",\n        \"createdAt\": \"2025-12-08T10:00:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Insufficient Balance (400 Bad Request)**  \n_Scenario: Wallet balance is lower than the requested amount._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Insufficient wallet balance\"\n}\n\n ```\n\n**3\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: Amount is too small or missing fields._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: amount: Minimum withdrawal is 50,000\"\n}\n\n ```\n\n**4\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: A Tenant tries to request a payout._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/finance/payout' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27; \\\n--data '{\n    \"amount\": 500000,\n    \"bankName\": \"Mandiri\",\n    \"accountNo\": \"987654321\",\n    \"accountName\": \"Jane Landlord\"\n}'\n\n ```\n\n---\n\n### ‚ö†Ô∏è Pre-requisites for Testing\n\n1. **Have Balance:** Ensure your Landlord account has received funds via the Payment Flow (Rent Payment). You can check your balance using `GET /finance/wallet`.\n    \n2. **Verify Role:** Ensure you are using the token of a `LANDLORD`."
          },
          "response": []
        },
        {
          "name": "Process Payout (Approve/Reject)",
          "id": "2fb9ee1a-6a18-4711-be24-fcc0776e2d7a",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"APPROVE\",\n  \"notes\": \"Transfer ID: TRX-BANK-12345\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/finance/admin/payouts/:id/process",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "finance",
                "admin",
                "payouts",
                ":id",
                "process"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "f84bfa99-1b92-4bc5-ac75-ebcd5774b1fd"
                }
              ]
            },
            "description": "### üí∏ Endpoint: Process Payout (Approve/Reject)\n\n**Description:**  \nAllows an Admin to finalize a pending payout request.\n\n- **Approve:** Marks the request as `COMPLETED`. In a real-world scenario, this would trigger the bank transfer API (e.g., Xendit/Midtrans Iris).\n    \n- **Reject:** Marks the request as `REJECTED` and **immediately refunds** the locked amount back to the Landlord's wallet balance.\n    \n- **Idempotency:** Can only be called on requests with status `PENDING`.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/finance/admin/payouts/:id/process`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the payout request to process. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Content-Type` | `application/json` | **Required.** |\n| `Authorization` | `Bearer` | **Required.** Admin token. |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"action\": \"APPROVE\",\n  \"notes\": \"Transfer ID: TRX-BANK-12345\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `action` | String | **Mandatory** | Must be either `APPROVE` or `REJECT`. |\n| `notes` | String | Optional | Admin remarks (e.g., bank transfer reference number or rejection reason). |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Approved (200 OK)**  \n_Funds are permanently deducted (transferred)._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Payout processed successfully\",\n    \"data\": {\n        \"message\": \"Payout approved. Funds transferred.\"\n    }\n}\n\n ```\n\n**2\\. Success - Rejected (200 OK)**  \n_Funds are refunded to the user's wallet._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Payout processed successfully\",\n    \"data\": {\n        \"message\": \"Payout rejected. Funds refunded to wallet.\"\n    }\n}\n\n ```\n\n**3\\. Error: Validation (400 Bad Request)**  \n_Scenario: Invalid action string._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Invalid action. Must be APPROVE or REJECT\"\n}\n\n ```\n\n**4\\. Error: Already Processed (400 Bad Request)**  \n_Scenario: Trying to process a request that is not PENDING._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Payout request is already processed\"\n}\n\n ```\n\n**5\\. Error: Not Found (404 Not Found)**  \n_Scenario: Invalid Payout ID._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Payout request not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n**Approve:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/finance/admin/payouts/PAYOUT_ID_HERE/process' \\\n--header &#x27;Authorization: Bearer <ADMIN_TOKEN>&#x27; \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"action\": \"APPROVE\",\n    \"notes\": \"Sent via BCA\"\n}'\n\n ```\n\n**Reject:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/finance/admin/payouts/PAYOUT_ID_HERE/process' \\\n--header &#x27;Authorization: Bearer <ADMIN_TOKEN>&#x27; \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"action\": \"REJECT\",\n    \"notes\": \"Invalid bank account details\"\n}'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "81e3e28e-0a56-43c0-9bf2-757b3dca979c"
    },
    {
      "name": "Chat",
      "item": [
        {
          "name": "Start Conversation",
          "id": "3cf9ef22-85e1-4fd1-a31d-54a04a4aecdb",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"propertyId\": \"7074790c-564c-4ade-8eed-f6eff38c10fe\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/chats/start",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "chats",
                "start"
              ]
            },
            "description": "### üìÑ Endpoint: Start Conversation\n\n**Description:**  \nInitiates a new chat session between a Tenant and a Landlord regarding a specific property.\n\n- **Logic:** Checks if a chat room already exists for this Tenant-Landlord-Property combination.\n    \n    - If **yes**, it returns the existing `roomId`.\n        \n    - If **no**, it creates a new room and returns the new `roomId`.\n        \n- **Access:** Only authenticated users can start a conversation.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/chats/start`\n    \n- **Authentication:** `Bearer`\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"propertyId\": \"prop-uuid-777\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `propertyId` | String (UUID) | **Mandatory** | The ID of the property the user wants to discuss. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - New Conversation Started (201 Created)**  \n_Scenario: This is the first time these two users are chatting about this property._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Conversation started\",\n    \"data\": {\n        \"roomId\": \"room-uuid-888\"\n    }\n}\n\n ```\n\n**2\\. Success - Existing Conversation Found (201 Created)**  \n_Scenario: A chat room already exists. The system returns the existing ID so the app can open it._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Conversation started\",\n    \"data\": {\n        \"roomId\": \"room-uuid-888\"\n    }\n}\n\n ```\n\n**3\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario:_ `_propertyId_` _is missing or invalid._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: propertyId: Invalid Property ID format\"\n}\n\n ```\n\n**4\\. Error: Self-Chat (400 Bad Request)**  \n_Scenario: A Landlord tries to start a chat on their own property._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Cannot chat with yourself\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/chats/start' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27; \\\n--data '{\n    \"propertyId\": \"prop-uuid-777\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get My Conversations",
          "id": "2a99932e-04fd-4907-9010-45dbc86f516a",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chats",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "chats"
              ]
            },
            "description": "### üìÑ Endpoint: Get My Conversations (Inbox)\n\n**Description:**  \nRetrieves a paginated list of chat rooms for the current user.\n\n- **Context Aware:** Tenants see the Landlords they are chatting with; Landlords see the Tenants.\n    \n- **Sorting:** Orders conversations by `lastMessageAt` (most recent activity first).\n    \n- **Pagination:** Uses Cursor-based pagination (Infinite Scroll).\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/chats`\n    \n- **Authentication:** `Bearer` (Role: `TENANT` or `LANDLORD`)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** |\n\n**Query Parameters (Optional):**\n\n| Key | Type | Description | Default | Example |\n| --- | --- | --- | --- | --- |\n| `limit` | Number | Number of conversations to retrieve (Max: 50). | `20` | `10` |\n| `cursor` | String | The `nextCursor` (Room ID) from the previous response. | `null` | `room-uuid-123` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - List with Data (200 OK)**  \n_Scenario: User has active conversations._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Conversations retrieved\",\n    \"meta\": {\n        \"total\": 5,\n        \"limit\": 10,\n        \"nextCursor\": \"room-uuid-888\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"room-uuid-999\",\n            \"property\": {\n                \"id\": \"prop-uuid-777\",\n                \"title\": \"Sunny Villa in Bali\",\n                \"city\": \"Bali\"\n            },\n            \"otherUser\": {\n                \"name\": \"John Landlord\",\n                \"avatarUrl\": \"http://minio.rentverse.com/rentverse-public/avatars/john.jpg\"\n            },\n            \"lastMessage\": \"Is the pool private?\",\n            \"lastMessageAt\": \"2025-12-08T14:30:00.000Z\"\n        },\n        {\n            \"id\": \"room-uuid-888\",\n            \"property\": {\n                \"id\": \"prop-uuid-555\",\n                \"title\": \"Cozy Studio in Jakarta\",\n                \"city\": \"Jakarta\"\n            },\n            \"otherUser\": {\n                \"name\": \"Jane Owner\",\n                \"avatarUrl\": \"http://minio.rentverse.com/rentverse-public/avatars/jane.jpg\"\n            },\n            \"lastMessage\": \"Yes, it is available.\",\n            \"lastMessageAt\": \"2025-12-07T09:15:00.000Z\"\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - Empty Inbox (200 OK)**  \n_Scenario: User has never started a chat._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Conversations retrieved\",\n    \"meta\": {\n        \"total\": 0,\n        \"limit\": 20,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    },\n    \"data\": []\n}\n\n ```\n\n**3\\. Error: Unauthorized (401)**  \n_Scenario: Token is missing or expired._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Examples\n\n**Fetch First Page:**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/chats?limit=10' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27;\n\n ```\n\n**Fetch Next Page (Infinite Scroll):**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/chats?limit=10&cursor=room-uuid-888' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get Message History",
          "id": "5f185522-5172-4008-abd0-e167016d183e",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chats/:roomId/messages",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "chats",
                ":roomId",
                "messages"
              ],
              "variable": [
                {
                  "key": "roomId",
                  "value": "78356d7e-3f23-4e2d-9c82-30b6a17b8fc1"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Get Message History (Chat Log)\n\n**Description:**  \nRetrieves the message history for a specific chat room.\n\n- **Pagination:** Uses Cursor-based pagination (Infinite Scroll). Use the `cursor` parameter to load older messages as the user scrolls up.\n    \n- **Sorting:** Returns messages in chronological order (Oldest -> Newest) so they appear correctly in the chat UI.\n    \n- **Context:** Includes an `isMe` boolean to help the frontend decide whether to align the message to the left or right.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/chats/:roomId/messages`\n    \n- **Authentication:** `Bearer` (Must be a participant of the room)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** |\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `roomId` | String (UUID) | **Required.** The ID of the chat room. |\n\n**Query Parameters (Optional):**\n\n| Key | Type | Description | Default | Example |\n| --- | --- | --- | --- | --- |\n| `limit` | Number | Number of messages to retrieve. | `50` | `20` |\n| `cursor` | String | The `nextCursor` (Message ID) from the previous response. Used to fetch _older_ messages. | `null` | `msg-uuid-123` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - First Load (200 OK)**  \n_Scenario: User opens the chat screen. Returns the 50 most recent messages._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Messages retrieved\",\n    \"meta\": {\n        \"total\": 150,\n        \"limit\": 50,\n        \"nextCursor\": \"msg-uuid-oldest-in-batch\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"msg-uuid-100\",\n            \"content\": \"Hi, is this unit still available?\",\n            \"senderId\": \"user-tenant-123\",\n            \"isMe\": true,\n            \"createdAt\": \"2025-12-08T10:00:00.000Z\"\n        },\n        {\n            \"id\": \"msg-uuid-101\",\n            \"content\": \"Yes, it is! When would you like to visit?\",\n            \"senderId\": \"user-landlord-999\",\n            \"isMe\": false,\n            \"createdAt\": \"2025-12-08T10:05:00.000Z\"\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - Empty Chat (200 OK)**  \n_Scenario: A new room with no messages yet._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Messages retrieved\",\n    \"meta\": {\n        \"total\": 0,\n        \"limit\": 50,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    },\n    \"data\": []\n}\n\n ```\n\n**3\\. Error: Unauthorized Access (403 Forbidden)**  \n_Scenario: A user tries to view messages of a room they do not belong to._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Unauthorized access to this chat\"\n}\n\n ```\n\n**4\\. Error: Room Not Found (404 Not Found)**  \n_Scenario: The_ `_roomId_` _does not exist._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Chat room not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Examples\n\n**Load Recent Messages:**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/chats/room-uuid-888/messages' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27;\n\n ```\n\n**Load Older Messages (Scroll Up):**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/chats/room-uuid-888/messages?limit=20&cursor=msg-uuid-oldest' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        }
      ],
      "id": "5abdc034-4097-4235-b626-334757f3b075",
      "description": "## üì± Flutter Chat Integration Guide\n\n### 1\\. Dependencies\n\nAdd the following to your `pubspec.yaml`:\n\n``` yaml\ndependencies:\n  socket_io_client: ^2.0.3  # For Real-Time Communication\n  http: ^1.1.0              # For REST API calls (History/List)\n\n ```\n\n---\n\n### 2\\. Socket Service (Singleton)\n\nCreate `lib/services/socket_service.dart`. This handles the persistent connection.\n\n``` dart\nimport 'package:socket_io_client/socket_io_client.dart' as IO;\nclass SocketService {\n  static final SocketService _instance = SocketService._internal();\n  late IO.Socket socket;\n  factory SocketService() {\n    return _instance;\n  }\n  SocketService._internal();\n  // Initialize Connection\n  void init(String token) {\n    socket = IO.io('http://YOUR_API_URL', IO.OptionBuilder()\n      .setTransports(['websocket']) // Force WebSocket\n      .setAuth({'token': token})    // Pass JWT in Handshake Auth\n      .build());\n    socket.onConnect((_) {\n      print('[Socket] Connected');\n    });\n    socket.onDisconnect((_) {\n      print('[Socket] Disconnected');\n    });\n    socket.onError((data) => print('[Socket] Error: $data'));\n  }\n  // Join a Chat Room (Call when entering Chat Screen)\n  void joinRoom(String roomId) {\n    socket.emit('JOIN_ROOM', roomId);\n  }\n  // Send a Message\n  void sendMessage(String roomId, String content) {\n    socket.emit('SEND_MESSAGE', {\n      'roomId': roomId,\n      'content': content,\n    });\n  }\n  // Listen for incoming messages\n  void onNewMessage(Function(dynamic) callback) {\n    socket.on('NEW_MESSAGE', (data) {\n      callback(data);\n    });\n  }\n  // Cleanup\n  void dispose() {\n    socket.dispose();\n  }\n}\n\n ```\n\n---\n\n### 3\\. Usage Flow (UI Implementation)\n\n#### A. Chat List Screen (Inbox)\n\n- **API:** `GET /chats`\n    \n- **Logic:** Fetch the list via HTTP. Display items using `otherUser.name`, `otherUser.avatarUrl`, and `lastMessage`.\n    \n- **Action:** When a user taps a tile, navigate to the Chat Detail Screen with the `roomId`.\n    \n\n#### B. Chat Detail Screen (Conversation)\n\n- **API:** `GET /chats/:roomId/messages` (Fetch history).\n    \n- **Socket:** Connect & Listen for real-time updates.\n    \n\n**Example** **`ChatScreen`** **Logic:**\n\n``` dart\nclass ChatScreen extends StatefulWidget {\n  final String roomId;\n  ChatScreen({required this.roomId});\n  @override\n  _ChatScreenState createState() => _ChatScreenState();\n}\nclass _ChatScreenState extends State<ChatScreen> {\n  final SocketService _socketService = SocketService();\n  List<dynamic> messages = []; // Store messages here\n  TextEditingController _controller = TextEditingController();\n  @override\n  void initState() {\n    super.initState();\n    // 1. Load History (HTTP)\n    _loadMessageHistory(); \n    // 2. Join Room (Socket)\n    _socketService.joinRoom(widget.roomId);\n    // 3. Listen for Real-Time Messages\n    _socketService.onNewMessage((data) {\n      setState(() {\n        messages.add(data); // Append new message to list\n        // Scroll to bottom...\n      });\n    });\n  }\n  Future<void> _loadMessageHistory() async {\n    // Call GET /chats/{roomId}/messages\n    // Parse response -> setState(messages = fetchedMessages);\n  }\n  void _handleSend() {\n    if (_controller.text.isEmpty) return;\n    // Emit to Server\n    _socketService.sendMessage(widget.roomId, _controller.text);\n    // Optimistic UI Update (Optional: wait for server echo via onNewMessage)\n    _controller.clear();\n  }\n  @override\n  Widget build(BuildContext context) {\n    // Render ListView of messages...\n  }\n}\n\n ```\n\n---\n\n### 4\\. Data Models (Dart)\n\n**Message Object:**  \nMatches the `NEW_MESSAGE` event and `GET /messages` response.\n\n``` dart\nclass ChatMessage {\n  final String id;\n  final String content;\n  final String senderId;\n  final bool isMe; // Helper from backend\n  final String createdAt;\n  ChatMessage({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.isMe,\n    required this.createdAt,\n  });\n  factory ChatMessage.fromJson(Map<String, dynamic> json) {\n    return ChatMessage(\n      id: json['id'],\n      content: json['content'],\n      senderId: json['senderId'],\n      isMe: json['isMe'] ?? false, // 'isMe' comes from API, but not Socket event (calc manually if needed)\n      createdAt: json['createdAt'],\n    );\n  }\n}\n\n ```\n\n### 5\\. Troubleshooting Tips for Mobile Team\n\n1. **\"Authentication Error\":** Ensure the JWT token is passed in `.setAuth({'token': ...})` **before** connecting. If the token expires, you must disconnect, update the token, and reconnect.\n    \n2. **\"Messages not appearing\":** Ensure `joinRoom(roomId)` is called immediately after entering the screen. You cannot receive messages for a room you haven't joined.\n    \n3. **Localhost on Android:** If testing on an emulator, use `http://10.0.2.2:3000` instead of `localhost`."
    },
    {
      "name": "Landlord",
      "item": [
        {
          "name": "Landlord Dashboard",
          "id": "451315b0-66ce-4b24-8693-35b2e1eb6118",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/landlord/dashboard",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "landlord",
                "dashboard"
              ]
            },
            "description": "### üìÑ Endpoint: Landlord Dashboard\n\n**Description:**  \nRetrieves high-level business metrics for a Landlord. This is the \"Home Screen\" data, giving them a quick overview of their financial health, property performance, and trust standing.\n\n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/landlord/dashboard`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be a User with role `LANDLORD`. |\n\n**Body:** None.\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns the aggregated dashboard stats._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Dashboard retrieved successfully\",\n    \"data\": {\n        \"overview\": {\n            \"totalIncome\": {\n                \"amount\": 25500000,\n                \"currency\": \"IDR\",\n                \"label\": \"Wallet Balance\"\n            },\n            \"occupancy\": {\n                \"active\": 3,\n                \"pending\": 2,\n                \"label\": \"Active Bookings\"\n            },\n            \"trust\": {\n                \"score\": 85.0,\n                \"responseRate\": 92.5,\n                \"label\": \"LRS Score\"\n            },\n            \"inventory\": {\n                \"total\": 8,\n                \"label\": \"Listed Properties\"\n            }\n        }\n    }\n}\n\n ```\n\n**2\\. Success - New Landlord (200 OK)**  \n_Scenario: A new landlord with no activity yet._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Dashboard retrieved successfully\",\n    \"data\": {\n        \"overview\": {\n            \"totalIncome\": {\n                \"amount\": 0,\n                \"currency\": \"IDR\",\n                \"label\": \"Wallet Balance\"\n            },\n            \"occupancy\": {\n                \"active\": 0,\n                \"pending\": 0,\n                \"label\": \"Active Bookings\"\n            },\n            \"trust\": {\n                \"score\": 50.0,\n                \"responseRate\": 0,\n                \"label\": \"LRS Score\"\n            },\n            \"inventory\": {\n                \"total\": 0,\n                \"label\": \"Listed Properties\"\n            }\n        }\n    }\n}\n\n ```\n\n**3\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: A Tenant tries to access the landlord dashboard._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/landlord/dashboard' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "My Properties",
          "id": "a3b28bc8-2146-4b8d-b6cd-fcc48f21bb16",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/landlord/properties",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "landlord",
                "properties"
              ]
            },
            "description": "### üìÑ Endpoint: Get Landlord Inventory (My Properties)\n\n**Description:**  \nRetrieves a paginated list of properties owned by the authenticated Landlord.\n\n- **Visibility:** Unlike the public feed, this returns **all** listings (Verified, Unverified/Pending, Rejected).\n    \n- **Stats:** Includes internal metrics like `totalBookings` for each property.\n    \n- **Usage:** Used for the \"My Listings\" management screen in the Landlord App.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/landlord/properties`\n    \n- **Authentication:** `Bearer` (Role: `LANDLORD` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Must be a User with role `LANDLORD`. |\n\n**Query Parameters (Optional):**\n\n| Key | Type | Description | Default | Example |\n| --- | --- | --- | --- | --- |\n| `limit` | Number | Number of items per page. | `10` | `20` |\n| `cursor` | String | The `id` of the last item from the previous page (for infinite scroll). | `null` | `prop-uuid-123` |\n| `search` | String | Filter by property title (case-insensitive). | `null` | `villa` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Inventory List (200 OK)**\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Inventory retrieved successfully\",\n    \"meta\": {\n        \"total\": 5,\n        \"limit\": 10,\n        \"nextCursor\": \"prop-uuid-555\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"prop-uuid-999\",\n            \"title\": \"Sunny Villa in Bali\",\n            \"address\": \"Jl. Sunset Road No. 88\",\n            \"city\": \"Bali\",\n            \"price\": 25000000,\n            \"currency\": \"IDR\",\n            \"isVerified\": true,\n            \"image\": \"http://minio.rentverse.com/rentverse-public/properties/villa.jpg\",\n            \"type\": \"Villa\",\n            \"stats\": {\n                \"totalBookings\": 12\n            },\n            \"createdAt\": \"2025-12-01T10:00:00.000Z\"\n        },\n        {\n            \"id\": \"prop-uuid-555\",\n            \"title\": \"Cozy Studio (Pending)\",\n            \"address\": \"Jl. Sudirman\",\n            \"city\": \"Jakarta\",\n            \"price\": 3000000,\n            \"currency\": \"IDR\",\n            \"isVerified\": false,\n            \"image\": \"http://minio.rentverse.com/rentverse-public/properties/studio.jpg\",\n            \"type\": \"Apartment\",\n            \"stats\": {\n                \"totalBookings\": 0\n            },\n            \"createdAt\": \"2025-12-05T14:30:00.000Z\"\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - Empty Inventory (200 OK)**  \n_Scenario: Landlord hasn't listed anything yet._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Inventory retrieved successfully\",\n    \"meta\": {\n        \"total\": 0,\n        \"limit\": 10,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    },\n    \"data\": []\n}\n\n ```\n\n**3\\. Error: Unauthorized Role (403 Forbidden)**  \n_Scenario: A Tenant tries to access this endpoint._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n**Fetch First Page:**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/landlord/properties?limit=10' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27;\n\n ```\n\n**Search My Listings:**\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/landlord/properties?search=villa' \\\n--header &#x27;Authorization: Bearer <YOUR_LANDLORD_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        }
      ],
      "id": "6a7a8e92-1457-4bdd-bd38-2ba8b4ef56c1"
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "List Users",
          "id": "8082094e-02c5-4055-8b6e-04949711a8cf",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/users?page=1&limit=5",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "users"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "### üìÑ Endpoint: List Users (Admin)\n\n**Description:**  \nRetrieves a paginated list of all users registered on the platform.\n\n- **Usage:** Used by Admins to monitor user growth, find specific users, and identify who is waiting for KYC verification.\n    \n- **Filters:** Supports filtering by Role and KYC Status to quickly find \"Pending Landlords\" or \"Verified Tenants\".\n    \n- **Search:** Performs a case-insensitive search on Name, Email, and Phone.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/admin/users`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{admin_token}}` | **Required.** Must be a User with role `ADMIN`. |\n\n**Query Parameters (Optional):**\n\n| Key | Type | Description | Default | Example |\n| --- | --- | --- | --- | --- |\n| `page` | Number | Page number for pagination. | `1` | `1` |\n| `limit` | Number | Items per page (Max 100). | `10` | `20` |\n| `search` | String | Search by Name, Email, or Phone. | `null` | `john` |\n| `role` | String | Filter by role: `TENANT`, `LANDLORD`, or `ALL`. | `ALL` | `LANDLORD` |\n| `kycStatus` | String | Filter by KYC status: `PENDING`, `SUBMITTED`, `VERIFIED`, `REJECTED`. | `null` | `SUBMITTED` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Default List (200 OK)**\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Users retrieved successfully\",\n    \"meta\": {\n        \"page\": 1,\n        \"limit\": 10,\n        \"totalData\": 45,\n        \"totalPages\": 5,\n        \"hasNextPage\": true,\n        \"hasPrevPage\": false\n    },\n    \"data\": [\n        {\n            \"id\": \"user-uuid-123\",\n            \"name\": \"John Doe\",\n            \"email\": \"john@example.com\",\n            \"phone\": \"08123456789\",\n            \"avatarUrl\": \"http://minio.../avatars/john.jpg\",\n            \"roles\": [\"TENANT\"],\n            \"trustScore\": 75.0,\n            \"kycStatus\": \"VERIFIED\",\n            \"joinedAt\": \"2025-10-01T10:00:00.000Z\"\n        },\n        {\n            \"id\": \"user-uuid-456\",\n            \"name\": \"Jane Landlord\",\n            \"email\": \"jane@example.com\",\n            \"phone\": \"08198765432\",\n            \"avatarUrl\": null,\n            \"roles\": [\"LANDLORD\"],\n            \"trustScore\": 50.0,\n            \"kycStatus\": \"SUBMITTED\",\n            \"joinedAt\": \"2025-11-15T14:30:00.000Z\"\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - Find Pending Landlords (200 OK)**  \n_Query:_ `?role=LANDLORD&kycStatus=SUBMITTED`\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Users retrieved successfully\",\n    \"meta\": {\n        \"page\": 1,\n        \"limit\": 10,\n        \"totalData\": 3,\n        \"totalPages\": 1,\n        \"hasNextPage\": false,\n        \"hasPrevPage\": false\n    },\n    \"data\": [\n        {\n            \"id\": \"user-uuid-789\",\n            \"name\": \"New Host\",\n            \"email\": \"host@bali.com\",\n            \"phone\": null,\n            \"roles\": [\"LANDLORD\"],\n            \"trustScore\": 50.0,\n            \"kycStatus\": \"SUBMITTED\",\n            \"joinedAt\": \"2025-12-10T09:00:00.000Z\"\n        }\n    ]\n}\n\n ```\n\n**3\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: A normal user (Tenant/Landlord) tries to access this endpoint._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/admin/users?role=LANDLORD&kycStatus=SUBMITTED' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get User Details",
          "id": "87b5a276-6085-4d38-9a78-125fb30d686e",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/users/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "users",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "2aa67d81-e640-4758-bba3-ad9e55cb4a85"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Get User Details\n\n**Description:**  \nRetrieves the full profile of a specific user, including sensitive **KYC Documents**.\n\n- **Security:** If the user has uploaded ID cards or selfies, this endpoint generates **Presigned URLs** (valid for 1 hour) so the Admin can view them securely without exposing the private bucket.\n    \n- **Context:** Returns data relevant to the user's role (e.g., Tenant Score vs Landlord Score).\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/admin/users/:id`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The unique ID of the user to inspect. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{admin_token}}` | **Required.** Must be an Admin token. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Tenant Profile (200 OK)**  \n_Includes KTP and Selfie URLs for verification._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"User details retrieved successfully\",\n    \"data\": {\n        \"id\": \"user-uuid-123\",\n        \"name\": \"John Doe\",\n        \"email\": \"john@example.com\",\n        \"phone\": \"08123456789\",\n        \"avatarUrl\": \"http://minio.../avatars/john.jpg\",\n        \"isVerified\": false,\n        \"roles\": [\"TENANT\"],\n        \"createdAt\": \"2025-10-01T10:00:00.000Z\",\n        \"wallet\": {\n            \"balance\": 0,\n            \"currency\": \"IDR\"\n        },\n        \"kyc\": {\n            \"role\": \"TENANT\",\n            \"status\": \"SUBMITTED\",\n            \"score\": 50,\n            \"ktpUrl\": \"http://minio.../rentverse-private/kyc/user-123-ktp.jpg?X-Amz-Signature=...\",\n            \"selfieUrl\": \"http://minio.../rentverse-private/kyc/user-123-selfie.jpg?X-Amz-Signature=...\"\n        }\n    }\n}\n\n ```\n\n**2\\. Success - Landlord Profile (200 OK)**  \n_Includes only KTP URL (Selfie not required for landlords)._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"User details retrieved successfully\",\n    \"data\": {\n        \"id\": \"user-uuid-456\",\n        \"name\": \"Jane Owner\",\n        \"email\": \"jane@example.com\",\n        \"roles\": [\"LANDLORD\"],\n        \"isVerified\": true,\n        \"createdAt\": \"2025-11-15T14:30:00.000Z\",\n        \"wallet\": {\n            \"balance\": 15000000,\n            \"currency\": \"IDR\"\n        },\n        \"kyc\": {\n            \"role\": \"LANDLORD\",\n            \"status\": \"VERIFIED\",\n            \"score\": 85,\n            \"ktpUrl\": \"http://minio.../rentverse-private/kyc/user-456-ktp.jpg?X-Amz-Signature=...\"\n        }\n    }\n}\n\n ```\n\n**3\\. Error: Not Found (404 Not Found)**  \n_Scenario: User ID does not exist._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"User not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/admin/users/USER_UUID_HERE' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Verify User",
          "id": "a19c1640-3e23-4d0e-b0b9-57d2f82336f8",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"status\": \"VERIFIED\",\n    \"rejectionReason\": null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/users/:id/verify",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "users",
                ":id",
                "verify"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "92b06b64-92db-4be7-8235-10030758a98e"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Verify User (KYC Decision)\n\n**Description:**  \nAllows an **Admin** to approve or reject a user's KYC submission.\n\n- **Approve:** Sets the user's KYC status to `VERIFIED` and triggers a Trust Score reward (+10 points).\n    \n- **Reject:** Sets status to `REJECTED` and logs the reason.\n    \n- **Side Effects:** This action also updates the main `isVerified` flag on the user account if approved.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/admin/users/:id/verify`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the user to verify. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{admin_token}}` | **Required.** Must be an Admin token. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"status\": \"VERIFIED\",\n  \"rejectionReason\": null\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `status` | Enum | **Mandatory** | Must be either `VERIFIED` or `REJECTED`. |\n| `rejectionReason` | String | **Conditional** | Required if `status` is `REJECTED`. Optional otherwise. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Approved (200 OK)**  \n_User is verified and reward is queued._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Verification processed successfully\",\n    \"data\": {\n        \"message\": \"User KYC has been verified\"\n    }\n}\n\n ```\n\n**2\\. Success - Rejected (200 OK)**  \n_User is rejected with a reason._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Verification processed successfully\",\n    \"data\": {\n        \"message\": \"User KYC has been rejected\"\n    }\n}\n\n ```\n\n**3\\. Error: Missing Reason (400 Bad Request)**  \n_Scenario: Admin tries to reject without providing a reason._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: rejectionReason: Rejection reason is required when status is REJECTED\"\n}\n\n ```\n\n**4\\. Error: Not Found (404 Not Found)**  \n_Scenario: User ID does not exist._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"User not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n**Approve:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/admin/users/USER_UUID/verify' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27; \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"status\": \"VERIFIED\"\n}'\n\n ```\n\n**Reject:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/admin/users/USER_UUID/verify' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27; \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"status\": \"REJECTED\",\n    \"rejectionReason\": \"ID card is blurry. Please re-upload.\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Adjust Trust Score",
          "id": "a30e5ae3-550a-4d19-9a25-7ad4eef1d031",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"50bfc0e8-a343-4ae7-bec0-543b317f1867\",\n  \"role\": \"TENANT\",\n  \"scoreDelta\": 10,\n  \"reason\": \"Verified report of property damage during stay.\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/trust/adjust",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "trust",
                "adjust"
              ]
            },
            "description": "### üìÑ Endpoint: Adjust Trust Score (Manual Override)\n\n**Description:**  \nAllows an **Admin** to manually increase or decrease a user's Trust Score (TTI/LRS).\n\n- **Governance:** Used to penalize bad behavior not caught by automation (e.g., \"Rude behavior reported\") or grant bonuses.\n    \n- **Asynchronous:** This endpoint validates the request and queues a `ADMIN:TRUST_SCORE_ADJUSTED` event. The actual score update happens in the background via the Trust Engine.\n    \n- **Audit Trail:** The action is logged in the `TrustLog` table with `sourceType: MANUAL`.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/admin/trust/adjust`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{admin_token}}` | **Required.** Must be an Admin token. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"userId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"role\": \"TENANT\",\n  \"scoreDelta\": -15,\n  \"reason\": \"Verified report of property damage during stay.\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `userId` | String (UUID) | **Mandatory** | The ID of the user to adjust. |\n| `role` | Enum | **Mandatory** | `TENANT` or `LANDLORD`. Specifies which profile to update. |\n| `scoreDelta` | Integer | **Mandatory** | The points to add (positive) or subtract (negative). Cannot be `0`. |\n| `reason` | String | **Mandatory** | Min 5 chars. Explanation for the audit log. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Request accepted and queued._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Trust adjustment request submitted successfully.\",\n    \"data\": {\n        \"message\": \"Trust adjustment request submitted successfully.\",\n        \"details\": {\n            \"userId\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"delta\": -15\n        }\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: Zero delta or missing reason._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: scoreDelta: Score delta cannot be zero\"\n}\n\n ```\n\n**3\\. Error: User Not Found (404 Not Found)**  \n_Scenario: Invalid User ID._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"User not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/admin/trust/adjust' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27; \\\n--data '{\n    \"userId\": \"USER_UUID_HERE\",\n    \"role\": \"TENANT\",\n    \"scoreDelta\": 10,\n    \"reason\": \"Bonus for resolving dispute amicably\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "List Disputes",
          "id": "9e368a4a-dfc6-42c0-a3b7-3b9d84d0ea03",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/disputes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "disputes"
              ]
            },
            "description": "### üìÑ Endpoint: List Disputes\n\n**Description:**\nRetrieves a list of all disputes filed by Tenants or Landlords.\n\n  * **Usage:** Used by Admins to monitor incoming cases that need resolution (\"The Court Docket\").\n\n  * **Filtering:** Supports filtering by status to separate pending cases (`OPEN`) from closed ones.\n\n  * **Context:** Returns the dispute details along with the associated Booking, Property Title, and the Initiator's name.\n\n  * **Method:** `GET`\n\n  * **URL:** `{{base_url}}/admin/disputes`\n\n  * **Authentication:** `Bearer <access_token>` (Role: `ADMIN` only)\n\n-----\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| :--- | :--- | :--- |\n| `Authorization` | `Bearer {{admin_token}}` | **Required.** Must be an Admin token. |\n\n**Query Parameters (Optional):**\n\n| Key | Type | Description | Default | Example |\n| :--- | :--- | :--- | :--- | :--- |\n| `status` | String | Filter by status: `OPEN`, `RESOLVED`, `REJECTED`. | `null` (All) | `OPEN` |\n\n-----\n\n#### ‚úÖ Response Examples\n\n**1. Success - All Disputes (200 OK)**\n\n```json\n{\n    \"status\": \"success\",\n    \"message\": \"Disputes retrieved successfully\",\n    \"data\": [\n        {\n            \"id\": \"dispute-uuid-101\",\n            \"bookingId\": \"booking-uuid-555\",\n            \"initiatorId\": \"user-uuid-tenant\",\n            \"reason\": \"AC Not Working\",\n            \"description\": \"Host promised AC but it is broken.\",\n            \"status\": \"OPEN\",\n            \"resolution\": null,\n            \"adminNotes\": null,\n            \"createdAt\": \"2025-12-10T08:00:00.000Z\",\n            \"booking\": {\n                \"id\": \"booking-uuid-555\",\n                \"status\": \"CONFIRMED\",\n                \"property\": {\n                    \"title\": \"Sunny Villa in Bali\"\n                }\n            },\n            \"initiator\": {\n                \"name\": \"John Tenant\",\n                \"email\": \"tenant@example.com\"\n            }\n        },\n        {\n            \"id\": \"dispute-uuid-102\",\n            \"bookingId\": \"booking-uuid-777\",\n            \"initiatorId\": \"user-uuid-landlord\",\n            \"reason\": \"Tenant Damaged Furniture\",\n            \"description\": \"Sofa was torn.\",\n            \"status\": \"RESOLVED\",\n            \"resolution\": \"REFUND_TENANT\",\n            \"adminNotes\": \"Damage was pre-existing based on photos.\",\n            \"createdAt\": \"2025-12-09T10:00:00.000Z\",\n            \"booking\": {\n                \"id\": \"booking-uuid-777\",\n                \"status\": \"COMPLETED\",\n                \"property\": {\n                    \"title\": \"Cozy Studio\"\n                }\n            },\n            \"initiator\": {\n                \"name\": \"Jane Landlord\",\n                \"email\": \"landlord@example.com\"\n            }\n        }\n    ]\n}\n```\n\n**2. Success - Filtered by Open Cases (200 OK)**\n*Query:* `?status=OPEN`\n\n```json\n{\n    \"status\": \"success\",\n    \"message\": \"Disputes retrieved successfully\",\n    \"data\": [\n        {\n            \"id\": \"dispute-uuid-101\",\n            \"bookingId\": \"booking-uuid-555\",\n            \"status\": \"OPEN\",\n            \"reason\": \"AC Not Working\",\n            \"booking\": {\n                \"id\": \"booking-uuid-555\",\n                \"property\": { \"title\": \"Sunny Villa in Bali\" }\n            }\n        }\n    ]\n}\n```\n\n**3. Error: Unauthorized (403 Forbidden)**\n*Scenario: A normal user tries to access the admin list.*\n\n```json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n```\n\n-----\n\n#### üíª cURL Example\n\n```bash\ncurl --location 'http://localhost:3000/api/v1/admin/disputes?status=OPEN' \\\n--header 'Authorization: Bearer <YOUR_ADMIN_TOKEN>'\n```"
          },
          "response": []
        },
        {
          "name": "Resolve Dispute",
          "id": "213f67d2-e278-4ac4-8783-c26c1e139f8a",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"resolution\": \"REFUND_TENANT\",\n  \"adminNotes\": \"Landlord provided false amenities description. Full refund issued.\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/disputes/:id/resolve",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "disputes",
                ":id",
                "resolve"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "a2d44312-cba9-439e-8f14-91152bf7758f"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Resolve Dispute (Admin Decision)\n\n**Description:**  \nAllows an **Admin** to make a final, binding decision on a dispute case.\n\n- **The \"Judge's Hammer\":** This action closes the dispute status to either `RESOLVED` or `REJECTED`.\n    \n- **Trust Impact:**\n    \n    - `REFUND_TENANT`: Implies Landlord fault -> Landlord penalized (-20 Trust Score).\n        \n    - `PAYOUT_LANDLORD`: Implies Tenant fault -> Tenant penalized (-15 Trust Score).\n        \n- **Financial Impact:** (Depending on future Finance Module integration) this would trigger the actual money movement.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/admin/disputes/:id/resolve`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the dispute to resolve. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{admin_token}}` | **Required.** Must be an Admin token. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"resolution\": \"REFUND_TENANT\",\n  \"adminNotes\": \"Landlord provided false amenities description. Full refund issued.\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `resolution` | Enum | **Mandatory** | Must be one of: `REFUND_TENANT`, `PAYOUT_LANDLORD`, `REJECT_DISPUTE`. |\n| `adminNotes` | String | **Mandatory** | Min 5 chars. Explanation for the decision (audit trail). |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Refund Tenant (200 OK)**  \n_Dispute resolved against Landlord._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Dispute resolved successfully\",\n    \"data\": {\n        \"id\": \"dispute-uuid-101\",\n        \"bookingId\": \"booking-uuid-555\",\n        \"status\": \"RESOLVED\",\n        \"resolution\": \"REFUND_TENANT\",\n        \"adminNotes\": \"Landlord provided false amenities description. Full refund issued.\",\n        \"resolvedBy\": \"admin-uuid-1\",\n        \"resolvedAt\": \"2025-12-10T14:30:00.000Z\",\n        \"updatedAt\": \"2025-12-10T14:30:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Success - Reject Dispute (200 OK)**  \n_Dispute marked as invalid/rejected._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Dispute resolved successfully\",\n    \"data\": {\n        \"id\": \"dispute-uuid-102\",\n        \"status\": \"REJECTED\",\n        \"resolution\": \"REJECT_DISPUTE\",\n        \"adminNotes\": \"Evidence provided was insufficient.\"\n    }\n}\n\n ```\n\n**3\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario: Invalid resolution type or missing notes._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: resolution: Invalid resolution type. Must be REFUND_TENANT, PAYOUT_LANDLORD, or REJECT_DISPUTE.\"\n}\n\n ```\n\n**4\\. Error: Already Resolved (400 Bad Request)**  \n_Scenario: Trying to resolve a closed case._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Dispute is already resolved\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/admin/disputes/DISPUTE_UUID/resolve' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27; \\\n--data '{\n    \"resolution\": \"PAYOUT_LANDLORD\",\n    \"adminNotes\": \"Tenant claim regarding noise was unsubstantiated.\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Verify Property Listing",
          "id": "5546c7f4-7738-4a87-947c-23f04446d1f0",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/properties/:id/verify",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "properties",
                ":id",
                "verify"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "### üè† Endpoint: Verify Property Listing\n\n**Description:**  \nAllows an Admin to approve or reject a new property listing.\n\n- **Approve:** Sets `isVerified` to `true`. The property becomes visible in the public feed.\n    \n- **Reject:** Sets `isVerified` to `false` and requires a `rejectionReason`. The property remains hidden.\n    \n- **Notification:** Automatically triggers a Push Notification to the Landlord informing them of the decision.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/admin/properties/:id/verify`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the property to verify. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Content-Type` | `application/json` | **Required.** |\n| `Authorization` | `Bearer` | **Required.** Admin token. |\n\n**Body (raw JSON):**\n\n**Scenario 1: Approve**\n\n``` json\n{\n  \"isVerified\": true\n}\n\n ```\n\n**Scenario 2: Reject**\n\n``` json\n{\n  \"isVerified\": false,\n  \"rejectionReason\": \"Photos are blurry and address is incomplete.\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `isVerified` | Boolean | **Mandatory** | `true` to approve, `false` to reject. |\n| `rejectionReason` | String | **Conditional** | Required if `isVerified` is `false`. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Approved (200 OK)**  \n_Property is now live._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property has been approved\",\n    \"data\": {\n        \"message\": \"Property has been approved\"\n    }\n}\n\n ```\n\n**2\\. Success - Rejected (200 OK)**  \n_Property remains hidden, Landlord notified._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property has been rejected\",\n    \"data\": {\n        \"message\": \"Property has been rejected\"\n    }\n}\n\n ```\n\n**3\\. Error: Validation (400 Bad Request)**  \n_Scenario: Rejecting without a reason._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: rejectionReason: Rejection reason is required when rejecting a property\"\n}\n\n ```\n\n**4\\. Error: Not Found (404 Not Found)**  \n_Scenario: Invalid Property ID._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Property not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n**Approve:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/admin/properties/PROPERTY_ID_HERE/verify' \\\n--header &#x27;Authorization: Bearer <ADMIN_TOKEN>&#x27; \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"isVerified\": true\n}'\n\n ```\n\n**Reject:**\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/admin/properties/PROPERTY_ID_HERE/verify' \\\n--header &#x27;Authorization: Bearer <ADMIN_TOKEN>&#x27; \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"isVerified\": false,\n    \"rejectionReason\": \"Duplicate listing detected\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Admin List Properties",
          "id": "03532b7e-4aef-4d64-bbc3-431910b14534",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/properties",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "properties"
              ]
            },
            "description": "### üõ°Ô∏è Endpoint: Admin List Properties\n\n**Description:**  \nRetrieves a paginated list of properties for moderation. Admins can filter by verification status (e.g., to see only pending requests) or search by title/city.\n\n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/admin/properties`\n    \n- **Authentication:** `Bearer` (Role: `ADMIN` only)\n    \n\n---\n\n#### üîç Query Parameters\n\n| Key | Type | Description | Example |\n| --- | --- | --- | --- |\n| `page` | Number | Page number (Default: 1). | `1` |\n| `limit` | Number | Items per page (Default: 10, Max: 100). | `20` |\n| `search` | String | Search by Property Title or City. | `Villa` |\n| `status` | Enum | Filter by status: `PENDING`, `VERIFIED`, or `ALL`. | `PENDING` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns a paginated list of properties._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Properties retrieved successfully\",\n    \"meta\": {\n        \"page\": 1,\n        \"limit\": 10,\n        \"totalData\": 5,\n        \"totalPages\": 1,\n        \"hasNextPage\": false,\n        \"hasPrevPage\": false\n    },\n    \"data\": [\n        {\n            \"id\": \"prop-uuid-12345\",\n            \"title\": \"Luxury Villa in Bali\",\n            \"city\": \"Bali\",\n            \"price\": 25000000,\n            \"currency\": \"IDR\",\n            \"status\": \"PENDING\",\n            \"type\": \"Villa\",\n            \"submittedAt\": \"2025-12-10T08:00:00.000Z\",\n            \"landlord\": {\n                \"id\": \"user-uuid-9876\",\n                \"name\": \"Jane Landlord\",\n                \"email\": \"jane@example.com\",\n                \"avatarUrl\": \"https://storage.rentverse.com/avatars/jane.jpg\"\n            },\n            \"thumbnail\": \"https://storage.rentverse.com/properties/img1.jpg\"\n        },\n        {\n            \"id\": \"prop-uuid-67890\",\n            \"title\": \"Cozy Apartment\",\n            \"city\": \"Jakarta\",\n            \"price\": 5000000,\n            \"currency\": \"IDR\",\n            \"status\": \"VERIFIED\",\n            \"type\": \"Apartment\",\n            \"submittedAt\": \"2025-12-05T10:30:00.000Z\",\n            \"landlord\": {\n                \"id\": \"user-uuid-5432\",\n                \"name\": \"John Owner\",\n                \"email\": \"john@example.com\",\n                \"avatarUrl\": null\n            },\n            \"thumbnail\": \"https://storage.rentverse.com/properties/img2.jpg\"\n        }\n    ]\n}\n\n ```\n\n**2\\. Error: Forbidden (403 Forbidden)**  \n_Scenario: A Tenant or Landlord tries to access this endpoint._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to perform this action\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/admin/properties?status=PENDING&limit=5' \\\n--header &#x27;Authorization: Bearer <YOUR_ADMIN_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        }
      ],
      "id": "2bb0f7d6-3421-403f-b6dc-bf73de4eb4c3"
    },
    {
      "name": "Dispute",
      "item": [
        {
          "name": "Get My Disputes",
          "id": "9f532104-e158-4b9b-bc7d-76c16887d35d",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/disputes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "disputes"
              ]
            },
            "description": "### üìÑ Endpoint: Get My Disputes\n\n**Description:**  \nRetrieves a list of all disputes initiated by the logged-in user (Tenant or Landlord).\n\n- **Usage:** Allows users to track the status of their reported issues (`OPEN`, `RESOLVED`, `REJECTED`).\n    \n- **Context:** Returns the dispute details along with the associated Booking and Property title for easy identification.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/disputes`\n    \n- **Authentication:** `Bearer` (Tenant or Landlord)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The logged-in user's token. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success - Disputes Found (200 OK)**\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"My disputes retrieved successfully\",\n    \"data\": [\n        {\n            \"id\": \"dispute-uuid-101\",\n            \"bookingId\": \"booking-uuid-555\",\n            \"initiatorId\": \"user-uuid-tenant\",\n            \"reason\": \"AC Not Working\",\n            \"description\": \"The unit was listed with AC but it is broken.\",\n            \"status\": \"OPEN\",\n            \"resolution\": null,\n            \"adminNotes\": null,\n            \"createdAt\": \"2025-12-10T10:00:00.000Z\",\n            \"updatedAt\": \"2025-12-10T10:00:00.000Z\",\n            \"booking\": {\n                \"id\": \"booking-uuid-555\",\n                \"status\": \"CONFIRMED\",\n                \"startDate\": \"2025-12-15T00:00:00.000Z\",\n                \"endDate\": \"2026-01-15T00:00:00.000Z\",\n                \"property\": {\n                    \"title\": \"Sunny Villa in Bali\",\n                    \"city\": \"Bali\"\n                }\n            }\n        },\n        {\n            \"id\": \"dispute-uuid-102\",\n            \"bookingId\": \"booking-uuid-888\",\n            \"initiatorId\": \"user-uuid-tenant\",\n            \"reason\": \"Cleanliness Issue\",\n            \"description\": \"Room was not cleaned upon arrival.\",\n            \"status\": \"RESOLVED\",\n            \"resolution\": \"REFUND_TENANT\",\n            \"adminNotes\": \"Refund processed.\",\n            \"createdAt\": \"2025-11-01T09:00:00.000Z\",\n            \"updatedAt\": \"2025-11-03T14:00:00.000Z\",\n            \"booking\": {\n                \"id\": \"booking-uuid-888\",\n                \"status\": \"COMPLETED\",\n                \"startDate\": \"2025-11-01T00:00:00.000Z\",\n                \"endDate\": \"2025-12-01T00:00:00.000Z\",\n                \"property\": {\n                    \"title\": \"Cozy Studio Jakarta\",\n                    \"city\": \"Jakarta Selatan\"\n                }\n            }\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - No Disputes (200 OK)**\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"My disputes retrieved successfully\",\n    \"data\": []\n}\n\n ```\n\n**3\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Missing or invalid token._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Not authenticated\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/disputes' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27;\n\n ```"
          },
          "response": []
        },
        {
          "name": "Create Dispute",
          "id": "7a494dc9-7498-4251-b910-473116569c82",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Property not as described\",\n  \"description\": \"The swimming pool is empty and the AC in the main bedroom is broken.\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/bookings/:id/dispute",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "bookings",
                ":id",
                "dispute"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "6eee5f75-0589-437b-bc46-bc9a27b7745f"
                }
              ]
            },
            "description": "### üìÑ Endpoint: Create Dispute\n\n**Description:**  \nAllows a **Tenant** or **Landlord** to officially report an issue with a specific booking (e.g., \"Property damage\", \"Not as described\").\n\n- **Permission:** The user must be either the _Tenant_ or the _Landlord_ associated with the booking. Random users cannot dispute other people's bookings.\n    \n- **Status:** The dispute starts with status `OPEN`.\n    \n- **Validation:** You cannot dispute a booking that is already `CANCELLED` or `REJECTED`.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/bookings/:id/dispute`\n    \n- **Authentication:** `Bearer`\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `id` | String (UUID) | **Required.** The ID of the booking you want to dispute. |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Token of the Tenant or Landlord. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"reason\": \"Property not as described\",\n  \"description\": \"The swimming pool is empty and the AC in the main bedroom is broken.\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `reason` | String | **Mandatory** | Min 5 chars. A short summary of the issue. |\n| `description` | String | Optional | Detailed explanation of the situation. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Dispute successfully created._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Dispute submitted successfully\",\n    \"data\": {\n        \"id\": \"dispute-uuid-999\",\n        \"bookingId\": \"booking-uuid-123\",\n        \"initiatorId\": \"user-uuid-tenant\",\n        \"reason\": \"Property not as described\",\n        \"description\": \"The swimming pool is empty and the AC in the main bedroom is broken.\",\n        \"status\": \"OPEN\",\n        \"resolution\": null,\n        \"createdAt\": \"2025-12-10T14:00:00.000Z\",\n        \"updatedAt\": \"2025-12-10T14:00:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Unauthorized (403 Forbidden)**  \n_Scenario: A user tries to dispute a booking they are not part of._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not authorized to dispute this booking\"\n}\n\n ```\n\n**3\\. Error: Invalid Booking Status (400 Bad Request)**  \n_Scenario: Trying to dispute a cancelled booking._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Cannot dispute a cancelled booking\"\n}\n\n ```\n\n**4\\. Error: Validation Failed (400 Bad Request)**  \n_Scenario: Reason is missing or too short._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: reason: Reason is required (min 5 chars)\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/bookings/YOUR_BOOKING_ID/dispute' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27; \\\n--data '{\n    \"reason\": \"Host asked for extra money offline\",\n    \"description\": \"The landlord refused check-in unless I paid another 500k cash.\"\n}'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "061ed883-67a4-470e-a05c-081f281e4587"
    },
    {
      "name": "Review",
      "item": [
        {
          "name": "Submit Review",
          "id": "8426f56f-b7ab-4fc0-82ad-96e20887f7f6",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingId\": \"962458b6-dfaa-4d02-8f6a-b4fbdea8018e\",\n  \"rating\": 1,\n  \"comment\": \"The apartment was exactly as described! The host was very responsive.\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/reviews",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reviews"
              ]
            },
            "description": "### ‚≠ê Endpoint: Submit Review\n\n**Description:**  \nAllows a user (Tenant or Landlord) to review a completed booking.\n\n- **Double-Blind Logic:** Reviews are stored immediately but might be hidden until both parties review (depending on future logic). Currently, it creates the record and triggers the Trust Engine.\n    \n- **Trust Impact:** A high rating (4-5) rewards the receiver, while a low rating (1-2) penalizes them.\n    \n- **Restriction:** A user can only review a booking **once**.\n    \n- **Method:** `POST`\n    \n- **URL:** `{{base_url}}/reviews`\n    \n- **Authentication:** `Bearer` (Tenant or Landlord)\n    \n\n---\n\n#### üì® Request\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** The token of the reviewer. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (raw JSON):**\n\n``` json\n{\n  \"bookingId\": \"booking-uuid-12345\",\n  \"rating\": 5,\n  \"comment\": \"The villa was absolutely stunning and the host was very responsive!\"\n}\n\n ```\n\n| Key | Type | Requirement | Description |\n| --- | --- | --- | --- |\n| `bookingId` | String (UUID) | **Mandatory** | The ID of the booking being reviewed. |\n| `rating` | Integer | **Mandatory** | A number between `1` and `5`. |\n| `comment` | String | Optional | Detailed feedback. |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (201 Created)**  \n_Review submitted and processed._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Review submitted successfully\",\n    \"data\": {\n        \"message\": \"Review submitted successfully\"\n    }\n}\n\n ```\n\n**2\\. Error: Validation Failure (400 Bad Request)**  \n_Scenario: Rating is out of range (e.g., 6) or ID is invalid._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error: rating: Number must be less than or equal to 5\"\n}\n\n ```\n\n**3\\. Error: Duplicate Review (409 Conflict)**  \n_Scenario: User tries to review the same booking twice._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You have already reviewed this booking\"\n}\n\n ```\n\n**4\\. Error: Unauthorized (401 Unauthorized)**  \n_Scenario: Missing or invalid token._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You are not logged in. Please log in to get access.\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request POST 'http://localhost:3000/api/v1/reviews' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_TOKEN>&#x27; \\\n--data '{\n    \"bookingId\": \"YOUR_BOOKING_ID\",\n    \"rating\": 5,\n    \"comment\": \"Great experience, highly recommended!\"\n}'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Get Property Reviews",
          "id": "afc68c42-b26e-4f8e-b16a-19afb293bfea",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reviews/property/:propertyId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reviews",
                "property",
                ":propertyId"
              ],
              "variable": [
                {
                  "key": "propertyId",
                  "value": "52c7a9c4-e8be-416b-8759-d5fbceedecd4"
                }
              ]
            },
            "description": "### ‚≠ê Endpoint: Get Property Reviews\n\n**Description:**  \nRetrieves a public list of reviews for a specific property.\n\n- **Filter:** Only shows reviews written by **Tenants** (i.e., reviews _of_ the property/landlord).\n    \n- **Pagination:** Supports cursor-based infinite scroll.\n    \n- **Public Access:** No authentication required. Anyone can view property reviews.\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/reviews/property/:propertyId`\n    \n- **Authentication:** None\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `propertyId` | String (UUID) | **Required.** The ID of the property to fetch reviews for. |\n\n**Query Parameters:**\n\n| Key | Type | Description | Default |\n| --- | --- | --- | --- |\n| `limit` | Number | Number of reviews to return per page. | `5` |\n| `cursor` | String | The `id` of the last review from the previous page (for infinite scroll). | `null` |\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns a list of reviews with reviewer details._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Reviews retrieved\",\n    \"meta\": {\n        \"limit\": 5,\n        \"nextCursor\": \"review-uuid-987\",\n        \"hasMore\": true\n    },\n    \"data\": [\n        {\n            \"id\": \"review-uuid-123\",\n            \"bookingId\": \"booking-uuid-456\",\n            \"reviewerId\": \"user-uuid-789\",\n            \"role\": \"TENANT\",\n            \"rating\": 5,\n            \"comment\": \"Absolutely loved this place! The pool was amazing.\",\n            \"createdAt\": \"2025-12-10T10:00:00.000Z\",\n            \"reviewer\": {\n                \"name\": \"Alice Tenant\",\n                \"avatarUrl\": \"https://storage.ilhamdean.cloud/rentverse-public/avatars/alice.jpg\"\n            }\n        },\n        {\n            \"id\": \"review-uuid-124\",\n            \"bookingId\": \"booking-uuid-457\",\n            \"reviewerId\": \"user-uuid-790\",\n            \"role\": \"TENANT\",\n            \"rating\": 4,\n            \"comment\": \"Great location, but the WiFi was a bit slow.\",\n            \"createdAt\": \"2025-12-09T14:30:00.000Z\",\n            \"reviewer\": {\n                \"name\": \"Bob Smith\",\n                \"avatarUrl\": null\n            }\n        }\n    ]\n}\n\n ```\n\n**2\\. Success - No Reviews (200 OK)**  \n_Property has no reviews yet._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Reviews retrieved\",\n    \"meta\": {\n        \"limit\": 5,\n        \"nextCursor\": null,\n        \"hasMore\": false\n    },\n    \"data\": []\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/reviews/property/YOUR_PROPERTY_UUID?limit=10'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "a50f18da-9e83-4a42-813a-170a1894155b"
    },
    {
      "name": "Calendar",
      "item": [
        {
          "name": "Export Calendar",
          "id": "1277f643-d48f-4c53-82e1-52d1e376936f",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/calendar/export/:propertyId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "calendar",
                "export",
                ":propertyId"
              ],
              "variable": [
                {
                  "key": "propertyId",
                  "value": "24434815-3abf-4b56-b217-5977a689702c"
                }
              ]
            },
            "description": "### üì§ Endpoint: Export Calendar (iCal)\n\n**Description:**  \nGenerates a live `.ics` calendar file for a specific property. This link is used by external platforms (Airbnb, Booking.com, Google Calendar) to sync availability.\n\n- **Live Sync:** The file is generated on-the-fly, so it always contains the latest **CONFIRMED** bookings.\n    \n- **Privacy:** Tenant names are scrubbed; events are titled \"Rentverse Booking\".\n    \n- **Format:** Standard iCalendar (RFC 5545).\n    \n- **Method:** `GET`\n    \n- **URL:** `{{base_url}}/calendar/export/:propertyId`  \n    _(You can also use_ `_.../export/:propertyId.ics_` _if the external platform requires a file extension)_\n    \n- **Authentication:** None (Public)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description | Example |\n| --- | --- | --- | --- |\n| `propertyId` | String (UUID) | **Required.** The unique ID of the property to export. | `550e8400-e29b-41d4-a716-446655440000` |\n\n**Headers:**\n\n- `Accept`: `text/calendar` (Optional)\n    \n\n**Query Parameters:**\n\n- None.\n    \n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**\n\n- **Header:** `Content-Type: text/calendar; charset=utf-8`\n    \n- **Header:** `Content-Disposition: attachment; filename=\"rentverse-550e8400....ics\"`\n    \n- **Body:** (Raw Text)\n    \n\nend list\n\n``` text\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//sebbo.net//ical-generator//EN\nNAME:Rentverse - Luxury Villa Bali\nX-WR-CALNAME:Rentverse - Luxury Villa Bali\nTIMEZONE-ID:Asia/Jakarta\nBEGIN:VEVENT\nUID:booking-uuid-8888-4444\nSUMMARY:Rentverse Booking\nDTSTART;VALUE=DATE:20251225\nDTEND;VALUE=DATE:20251230\nDTSTAMP:20251214T100000Z\nEND:VEVENT\nBEGIN:VEVENT\nUID:booking-uuid-9999-5555\nSUMMARY:Rentverse Booking\nDTSTART;VALUE=DATE:20260105\nDTEND;VALUE=DATE:20260110\nDTSTAMP:20251214T100000Z\nEND:VEVENT\nEND:VCALENDAR\n\n ```\n\n**2\\. Error: Property Not Found (404 Not Found)**\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Property not found\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location 'http://localhost:3000/api/v1/calendar/export/550e8400-e29b-41d4-a716-446655440000.ics'\n\n ```"
          },
          "response": []
        },
        {
          "name": "Set Import URL",
          "id": "d840dd2e-5910-41b4-b0c6-1df33b531c93",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/properties/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "properties",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "### üì• Endpoint: Set Import URL (from Airbnb/External)\n\n**Description:**  \nUpdates a property to include an external iCal URL (e.g., from Airbnb, Booking.com, or Google Calendar).\n\n- **Behavior:** Once set, the background system (Worker) will periodically fetch this URL, parse the events, and automatically block the corresponding dates in the Rentverse calendar to prevent double bookings.\n    \n- **Removal:** To stop syncing, send an empty string `\"\"` or `null`.\n    \n- **Method:** `PATCH`\n    \n- **URL:** `{{base_url}}/properties/:id`\n    \n- **Authentication:** `Bearer` (Landlord Only - Must be the owner of the property)\n    \n\n---\n\n#### üì® Request\n\n**Path Variables:**\n\n| Key | Value | Description | Example |\n| --- | --- | --- | --- |\n| `id` | String (UUID) | **Required.** The unique ID of the property to update. | `550e8400-e29b-41d4-a716-446655440000` |\n\n**Headers:**\n\n| Key | Value | Description |\n| --- | --- | --- |\n| `Authorization` | `Bearer {{access_token}}` | **Required.** Token of the Landlord. |\n| `Content-Type` | `application/json` | **Required.** |\n\n**Body (JSON):**\n\n``` json\n{\n    \"icalImportUrl\": \"https://www.airbnb.com/calendar/ical/12345678.ics?s=a1b2c3d4\"\n}\n\n ```\n\n_Note: You can update other property fields (like_ `_price_` _or_ `_title_`_) in the same request if needed, but for setting up sync, only this field is required._\n\n---\n\n#### ‚úÖ Response Examples\n\n**1\\. Success (200 OK)**  \n_Returns the updated property object._\n\n``` json\n{\n    \"status\": \"success\",\n    \"message\": \"Property updated successfully\",\n    \"data\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"landlordId\": \"user-uuid-9876\",\n        \"title\": \"Luxury Villa Bali\",\n        \"icalImportUrl\": \"https://www.airbnb.com/calendar/ical/12345678.ics?s=a1b2c3d4\",\n        \"price\": \"5000000\",\n        \"currency\": \"IDR\",\n        \"isVerified\": true,\n        \"rating\": 4.8,\n        \"createdAt\": \"2025-01-01T00:00:00.000Z\",\n        \"updatedAt\": \"2025-12-14T10:05:00.000Z\"\n    }\n}\n\n ```\n\n**2\\. Error: Invalid URL (400 Bad Request)**  \n_Scenario: The provided string is not a valid URL._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"Validation Error\",\n    \"errors\": [\n        {\n            \"field\": \"icalImportUrl\",\n            \"message\": \"Invalid url\"\n        }\n    ]\n}\n\n ```\n\n**3\\. Error: Forbidden (403 Forbidden)**  \n_Scenario: User tries to update a property they do not own._\n\n``` json\n{\n    \"status\": \"fail\",\n    \"message\": \"You do not have permission to edit this property\"\n}\n\n ```\n\n---\n\n#### üíª cURL Example\n\n``` bash\ncurl --location --request PATCH 'http://localhost:3000/api/v1/properties/550e8400-e29b-41d4-a716-446655440000' \\\n--header 'Content-Type: application/json' \\\n--header &#x27;Authorization: Bearer <YOUR_ACCESS_TOKEN>&#x27; \\\n--data '{\n    \"icalImportUrl\": \"https://www.airbnb.com/calendar/ical/12345678.ics?s=secret\"\n}'\n\n ```"
          },
          "response": []
        }
      ],
      "id": "c82cdacd-af33-4495-92c7-674af3ddb66d"
    }
  ],
  "auth": {
    "type": "apikey",
    "apikey": [
      {
        "key": "value",
        "value": "Bearer {{access_token}}",
        "type": "string"
      },
      {
        "key": "key",
        "value": "Authorization",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "96009b7f-9de3-4c21-8bca-5300acb7d231",
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "f0180226-1aad-46f2-9324-c1c15f569a17",
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "id": "d94b8605-21ef-4df6-9eac-9f6a13ec0f0f",
      "key": "base_url",
      "value": ""
    },
    {
      "id": "5826c66b-644f-4746-be00-d837d71b782d",
      "key": "access_token",
      "value": ""
    },
    {
      "id": "2e64f645-bafd-4e83-a698-c0b149d5ce55",
      "key": "refresh_token",
      "value": ""
    }
  ]
}